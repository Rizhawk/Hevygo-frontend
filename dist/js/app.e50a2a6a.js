(function(t){function e(e){for(var s,r,i=e[0],c=e[1],l=e[2],u=0,p=[];u<i.length;u++)r=i[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&p.push(n[r][0]),n[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],s=!0,i=1;i<a.length;i++){var c=a[i];0!==n[c]&&(s=!1)}s&&(o.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},n={app:0},o=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var d=c;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"026f":function(t,e,a){"use strict";a("cd86")},"0778":function(t,e,a){},"0898":function(t,e,a){"use strict";a("a1cb")},"1a12":function(t,e,a){},"1c95":function(t,e,a){},"21ad":function(t,e,a){},"221c":function(t,e,a){},"22e6":function(t,e,a){},"271d":function(t,e,a){},"2a35":function(t,e,a){},"32f4":function(t,e,a){"use strict";a("2a35")},"344d":function(t,e,a){"use strict";a("ca3c")},"3a668":function(t,e,a){"use strict";a("c839")},"3dc3":function(t,e,a){"use strict";a("5108")},"3e7d":function(t,e,a){},"497e":function(t,e,a){},5108:function(t,e,a){},"51ea":function(t,e,a){"use strict";a("f54d")},"52ea":function(t,e,a){},5631:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"grey lighten-4"},[a("v-main",[a("router-view")],1)],1)},o=[],r={name:"App",components:{},data:function(){return{}}},i=r,c=a("2877"),l=a("6544"),d=a.n(l),u=a("7496"),p=a("f6c4"),m=Object(c["a"])(i,n,o,!1,null,null,null),h=m.exports;d()(m,{VApp:u["a"],VMain:p["a"]});var f=a("8c4f"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"home"}},[a("Navbar"),a("v-layout",{staticClass:" mx-10",attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"mx-10",attrs:{xs12:"",sm6:"",md12:"",lg6:""}},[a("h3",{staticClass:"white--text subtitle my-15 font-weight-black mb-5"},[t._v("Welcome to")]),a("h1",{staticClass:"white--text display-3 font-weight-bold mb-5"},[t._v("SHUTTLE")]),a("v-flex",{attrs:{lg12:"",md6:"",xs12:""}},[a("p",{staticClass:"white--text text-sm-left"},[t._v(" Lorem ipsum dolor sit amet consectetur adipisicing elit. Error quidem laudantium hic, tempore ratione aliquam porro voluptatem aspernatur sint nulla sit adipisci repellat ipsam qui molestias asperiores quae maiores deserunt! ")])]),a("v-btn",{staticClass:"btn",attrs:{rounded:"",elevation:"5",router:"",to:"/booktruck"}},[t._v(" Book your Truck Now")]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[a("router-link",{attrs:{id:"link",to:"/optrsignup"}},[a("p",t._g(t._b({staticClass:"my-2 mx-8 bold white--text"},"p",n,!1),s),[t._v(" Do you have Trucks? ")])])]}}])},[a("span",[t._v("Create an Operator Account")])])],1)],1),a("Footer")],1)},b=[],g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-bottom-navigation",{staticClass:"slategrey",attrs:{dark:"",shift:""}})},k=[],w={data:function(){return{}}},x=w,_=a("b81c"),y=Object(c["a"])(x,g,k,!1,null,null,null),C=y.exports;d()(y,{VBottomNavigation:_["a"]});var P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",[a("v-app-bar",{staticClass:"black",attrs:{dark:"",app:""}},[a("v-app-bar-title",{staticClass:"text-uppercase"},[a("router-link",{attrs:{to:"/",id:"link"}},[a("span",{staticClass:"subtitle-1 font-weight-bold white--text"},[t._v("SHUTTLE")])])],1),a("v-spacer"),a("v-toolbar-items",{staticClass:"hidden-xs-only"},[a("span",{staticClass:"my-5 mx-15"},[a("router-link",{attrs:{to:"#",id:"link"}},[a("p",{staticClass:"white--text"},[t._v("About Us")])])],1),a("span",{staticClass:"my-5 mx-15"},[a("router-link",{attrs:{to:"#",id:"link"}},[a("p",{staticClass:"white--text"},[t._v("Contact")])])],1),a("span",{staticClass:"my-3 mx-5"},[a("v-btn",{attrs:{small:"",router:"",to:"/login",color:"blue"}},[t._v("Login")])],1),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[a("span",{staticClass:"my-3"},[a("v-btn",t._g(t._b({attrs:{router:"",to:"/newcustsignup",small:"",outlined:"",color:"white"}},"v-btn",n,!1),s),[t._v(" Sign Up ")])],1)]}}])},[a("span",[t._v("Create a Customer Account")])])],1),a("div",{staticClass:"hidden-sm-and-up"},[a("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-app-bar-nav-icon",t._g({},s))]}}])},[a("v-list",{staticClass:"responsiveMenu"},[a("v-list-item",[a("v-list-item-title",[a("router-link",{attrs:{id:"link",to:"/about"}},[t._v("About Us")])],1)],1),a("v-list-item",[a("v-list-item-title",[a("router-link",{attrs:{to:"/about",id:"link"}},[t._v("Contact")])],1)],1),a("v-list-item",[a("v-list-item-title",[a("router-link",{attrs:{to:"/login",id:"link"}},[t._v("Login")])],1)],1),a("v-list-item",[a("v-list-item-title",[a("router-link",{attrs:{to:"/newcustsignup",id:"link"}},[t._v("Sign Up")])],1)],1)],1)],1)],1)],1)],1)},O=[],V={data:function(){return{}}},A=V,D=(a("5dfc"),a("40dc")),S=a("5bc1"),I=a("bb78"),T=a("8336"),j=a("8860"),$=a("da13"),L=a("5d23"),E=a("e449"),R=a("2fa4"),N=a("2a7f"),B=a("3a2f"),q=Object(c["a"])(A,P,O,!1,null,null,null),F=q.exports;d()(q,{VAppBar:D["a"],VAppBarNavIcon:S["a"],VAppBarTitle:I["a"],VBtn:T["a"],VList:j["a"],VListItem:$["a"],VListItemTitle:L["b"],VMenu:E["a"],VSpacer:R["a"],VToolbarItems:N["a"],VTooltip:B["a"]});var z={name:"Home",components:{Navbar:F,Footer:C},data:function(){return{}}},M=z,H=(a("8412"),a("0e8f")),U=a("a722"),K=Object(c["a"])(M,v,b,!1,null,"54b62bbe",null),G=K.exports;d()(K,{VApp:u["a"],VBtn:T["a"],VFlex:H["a"],VLayout:U["a"],VTooltip:B["a"]});var Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"btruck"}},[a("Navbar"),a("v-layout",{staticClass:"my-5",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs1:"",md3:"",sm2:"",lg4:""}}),a("v-flex",{attrs:{xs10:"",sm8:"",md6:"",lg4:""}},[a("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(e){var s=e.invalid;return[a("form",{attrs:{id:"book"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("v-layout",{staticClass:"my-2",attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"mx-3"},[a("h2",{staticClass:"white--text"},[t._v("Book a Truck")])]),a("v-flex")],1),a("validation-provider",{attrs:{name:"Startlocation",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-text-field",{attrs:{type:"search","error-messages":s,label:"Start Location","prepend-inner-icon":"mdi-map-marker",dark:"",clearable:"",outlined:"",dense:""},on:{input:t.doSearch1},model:{value:t.startlocation,callback:function(e){t.startlocation=e},expression:"startlocation"}})]}}],null,!0)}),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs10:"",sm10:"",md10:"",lg10:""}}),a("v-flex",[a("v-btn",{attrs:{color:"white","x-small":""},on:{click:function(e){return e.preventDefault(),t.swapLoc()}}},[a("span",{staticClass:"material-icons"},[t._v(" swap_vert ")])])],1),a("v-flex",[t.dropdown1?a("v-simple-table",{attrs:{dark:"","fixed-header":"",dense:""}},[a("thead",[a("tr",{on:{click:function(e){return e.preventDefault(),t.getLocation()}}},[a("td",[a("span",{staticClass:"material-icons"},[t._v(" my_location ")])]),a("td",[t._v("Your Location")])])]),a("tbody",t._l(t.results1,(function(e){return a("tr",{key:e.id},[a("v-icon",{attrs:{dense:""}},[t._v("mdi-map-marker")]),a("td",{on:{click:function(a){return a.preventDefault(),t.getStart(e.title)}}},[t._v(" "+t._s(e.title)+" ")])],1)})),0)]):t._e()],1)],1),a("validation-provider",{attrs:{name:"Endlocation",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-text-field",{staticClass:"my-5",attrs:{type:"search","error-messages":s,label:"End Location","prepend-inner-icon":"mdi-map-marker",clearable:"",dark:"",outlined:"",dense:""},on:{input:t.doSearch2},model:{value:t.endlocation,callback:function(e){t.endlocation=e},expression:"endlocation"}})]}}],null,!0)}),a("v-flex",[t.dropdown2?a("v-simple-table",{attrs:{"fixed-header":"",dark:"",dense:""}},[a("tbody",t._l(t.results2,(function(e){return a("tr",{key:e.id},[a("v-icon",{attrs:{dense:""}},[t._v("mdi-map-marker")]),a("td",{on:{click:function(a){return a.preventDefault(),t.getEnd(e.title)}}},[t._v(" "+t._s(e.title)+" ")])],1)})),0)]):t._e()],1),a("validation-provider",{attrs:{name:"Date",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-text-field",{attrs:{"error-messages":s,label:"Date of Transport",type:"date",clearable:"",dark:"",outlined:"",dense:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})]}}],null,!0)}),a("validation-provider",{attrs:{name:"Weight",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-text-field",{attrs:{"error-messages":s,label:"Weight in ton",dark:"",clearable:"",outlined:"",dense:""},model:{value:t.weight,callback:function(e){t.weight=e},expression:"weight"}})]}}],null,!0)}),a("validation-provider",{attrs:{name:"type",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-autocomplete",{attrs:{label:"Vehicle Type",items:t.types,name:"type","error-messages":s,clearable:"",flat:"",dark:"",outlined:"",dense:""},model:{value:t.vtype,callback:function(e){t.vtype=e},expression:"vtype"}})]}}],null,!0)}),a("validation-provider",{attrs:{name:"Goods Type",rules:"required|max:10"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-text-field",{attrs:{"error-messages":s,label:"Goods Type",dark:"",clearable:"",outlined:"",dense:""},model:{value:t.goodstype,callback:function(e){t.goodstype=e},expression:"goodstype"}})]}}],null,!0)}),a("v-layout",{staticClass:"my-1",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg2:""}}),a("v-flex",[a("v-btn",{attrs:{color:"primary",block:"",type:"submit",disabled:s,router:"",small:"",depressed:""},on:{click:function(e){return e.preventDefault(),t.saveData(e)}}},[t._v(" Continue ")])],1),a("v-flex",{attrs:{lg2:""}})],1)],1)]}}])})],1)],1)],1)},W=[],X=a("1da1"),J=a("5530"),Q=(a("96cf"),a("d3b7"),a("25f0"),a("4160"),a("159b"),a("4c93")),Z=a("7bb1");Object(Z["d"])("eager"),Object(Z["c"])("digits",Object(J["a"])(Object(J["a"])({},Q["a"]),{},{message:"{_field_} needs to be digits. ({_value_})"})),Object(Z["c"])("required",Object(J["a"])(Object(J["a"])({},Q["e"]),{},{message:"required"})),Object(Z["c"])("max",Object(J["a"])(Object(J["a"])({},Q["c"]),{},{message:"{_field_} may not be greater than {length} characters"})),s["a"].config.productionTip=!1,s["a"].config.devtools=!1;var tt="ESXHz5D5Ael8RKcRBmnboK969OKc0S9Rbm9aAlRA-8E",et="https://autosuggest.search.hereapi.com/v1/autosuggest?at=30.22,-92.02&limit=10&apikey=".concat(tt,"&q="),at={name:"Booking",components:{ValidationProvider:Z["b"],ValidationObserver:Z["a"],Navbar:F},data:function(){return{startlocation:"",searchResults:[],endlocation:"",service:null,weight:"",types:["Tipper","Lorry","Pickup","Tanker","Tow truck","Van","Container Truck","Car transporter"],vtype:"",goodstype:"",date:"",dropdown1:!1,dropdown2:!1,results1:[],results2:[],crntltln:[],crntloc:""}},methods:{doSearch1:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.dropdown1=!0,""!==t.startlocation){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,fetch(et+encodeURIComponent(t.startlocation));case 5:return a=e.sent,e.next=8,a.json();case 8:s=e.sent,t.results1=s.items;case 10:case"end":return e.stop()}}),e)})))()},doSearch2:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.dropdown2=!0,""!==t.endlocation){e.next=3;break}return e.abrupt("return");case 3:return console.log("doSearch2"),e.next=6,fetch(et+encodeURIComponent(t.endlocation));case 6:return a=e.sent,e.next=9,a.json();case 9:s=e.sent,t.results2=s.items;case 11:case"end":return e.stop()}}),e)})))()},getStart:function(t){this.startlocation=t,this.dropdown1=!1},getEnd:function(t){this.endlocation=t,this.dropdown2=!1},getLocation:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(this.showPosition):alert("Geolocation is not supported by this browser")},showPosition:function(t){this.crntltln.push(t.coords.latitude),this.crntltln.push(t.coords.longitude),this.crntloc=this.crntltln.toString(),this.inputCrntloc()},inputCrntloc:function(){var t=this,e=window.H,a=new e.service.Platform({apikey:"ESXHz5D5Ael8RKcRBmnboK969OKc0S9Rbm9aAlRA-8E"}),s=a.getSearchService();s.reverseGeocode({at:this.crntloc},(function(e){e.items.forEach((function(e){t.startlocation=e.address.label,t.crntltln=[]})),t.dropdown1=!1}),alert)},swapLoc:function(){var t=this.startlocation;this.startlocation=this.endlocation,this.endlocation=t},submit:function(){this.$refs.observer.validate()},clear:function(){this.startlocation="",this.endlocation="",this.weight="",this.vtype="",this.goodstype="",this.$refs.observer.reset()},saveData:function(){1==(this.dropdown1||this.dropdown2)?alert("Select a Location"):(localStorage.setItem("sl",this.startlocation),localStorage.setItem("el",this.endlocation),localStorage.setItem("dt",this.date),localStorage.setItem("wt",this.weight),localStorage.setItem("vt",this.vtype),localStorage.setItem("gt",this.goodstype),this.clear(),this.$router.push({name:"Csignup"}))}}},st=at,nt=(a("f0b1"),a("c6a6")),ot=a("132d"),rt=a("1f4f"),it=a("8654"),ct=Object(c["a"])(st,Y,W,!1,null,"5177b3f7",null),lt=ct.exports;d()(ct,{VApp:u["a"],VAutocomplete:nt["a"],VBtn:T["a"],VFlex:H["a"],VIcon:ot["a"],VLayout:U["a"],VSimpleTable:rt["a"],VTextField:it["a"]});var dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"login"}},[a("Navbar"),a("v-layout",{staticClass:"my-15",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs1:"",sm2:"",md2:"",lg4:""}}),a("v-snackbar",{attrs:{rounded:"md",top:"",light:"",color:"red darken-4",timeout:"3000"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[a("span",{staticClass:"white--text mx-15"},[t._v(t._s(this.message))])]),a("v-flex",{attrs:{xs10:"",sm8:"",md6:"",lg4:""}},[a("form",{attrs:{id:"loginform"},on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[a("v-text-field",{attrs:{label:"Phone Number",dark:"",outlined:"",dense:""},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),a("v-text-field",{attrs:{label:"Password",name:"password",dark:"","append-icon":t.show1?"mdi-eye":"mdi-eye-off",type:t.show1?"text":"password",outlined:"",dense:""},on:{"click:append":function(e){t.show1=!t.show1}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg2:""}}),a("v-flex",{staticClass:"mx-4"},[a("v-btn",{staticClass:"my-2",attrs:{color:"primary",block:"",small:"",depressed:"",type:"submit",width:"50%"}},[t._v(" Login ")])],1),a("v-flex",{attrs:{lg2:""}})],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg4:""}}),a("v-flex",{staticClass:"mx-4"},[a("router-link",{staticClass:"link",attrs:{to:"/forgotpassword"}},[a("p",{staticClass:"white--text my-3 caption"},[t._v(" Forgot Password? ")])])],1),a("v-flex",{attrs:{lg4:""}})],1)],1)])],1)],1)},ut=[],pt=a("bc3a"),mt=a.n(pt),ht=mt.a.create({baseURL:"https://shuttletestserver.herokuapp.com/"}),ft={name:"Login",components:{Navbar:F},data:function(){return{phone:"",show1:!1,password:"",snackbar:!1,message:""}},methods:{login:function(){var t=this;ht.post("api/accounts/login/",{username:this.phone,password:this.password}).then((function(e){t.APIData=e.data,t.$session.start(),t.$session.set("user_token",t.APIData.data["token"]),t.$session.set("user_name",t.APIData.data["username"]),t.$session.set("user_id",t.APIData.data["user_id"]),1==t.APIData.data["user_type"]?t.$router.push({name:"Treg"}):2==t.APIData.data["user_type"]?t.$router.push({name:"Bnewtruck"}):3==t.APIData.data["user_type"]&&t.$router.push({name:"Dpage"})})).catch((function(e){console.log(e),t.message="Login failed due to Invalid Credentials ",t.snackbar=!0}))}}},vt=ft,bt=(a("ddd9"),a("2db4")),gt=Object(c["a"])(vt,dt,ut,!1,null,"0d35b445",null),kt=gt.exports;d()(gt,{VApp:u["a"],VBtn:T["a"],VFlex:H["a"],VLayout:U["a"],VSnackbar:bt["a"],VTextField:it["a"]});var wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"csign"}},[a("Navbar"),a("v-layout",{staticClass:"my-3",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs1:"",sm2:"",md2:"",lg4:""}}),a("v-snackbar",{attrs:{"multi-line":"",color:"teal darken-4",timeout:"10000"},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{color:"black",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",s,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(this.message)+" ")]),a("v-snackbar",{attrs:{color:"red darken-4",top:"","text-color":"white",timeout:"5000"},model:{value:t.snackbar2,callback:function(e){t.snackbar2=e},expression:"snackbar2"}},[t._v(" "+t._s(this.message2)+" ")]),a("v-flex",{attrs:{xs10:"",sm8:"",md6:"",lg4:""}},[a("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(e){var s=e.invalid;return[a("form",{attrs:{id:"csignup"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("v-layout",{staticClass:"my-2",attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"mx-3"},[a("p",{staticClass:"white--text subtitle-1 font-weight-black"},[t._v(" Sign Up to Continue ")])]),a("v-flex")],1),a("validation-provider",{attrs:{name:"Name",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-text-field",{attrs:{"error-messages":s,label:"Customer Name",dark:"",outlined:"",dense:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})]}}],null,!0)}),a("v-text-field",{attrs:{label:"Password",name:"password","append-icon":t.show1?"mdi-eye":"mdi-eye-off",rules:t.passwordRules,type:t.show1?"text":"password",dark:"",outlined:"",dense:""},on:{"click:append":function(e){t.show1=!t.show1}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-text-field",{attrs:{label:"Confirm Password",name:"confirmPassword","append-icon":t.show2?"mdi-eye":"mdi-eye-off",rules:[!!t.password2||"type confirm password",t.password===t.password2||"The password confirmation does not match."],type:t.show2?"text":"password",dark:"",outlined:"",dense:""},on:{"click:append":function(e){t.show2=!t.show2}},model:{value:t.password2,callback:function(e){t.password2=e},expression:"password2"}}),a("validation-provider",{attrs:{name:"Phone Number",rules:{required:!0,digits:10}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-text-field",{attrs:{"error-messages":s,label:"Phone Number",maxlength:"10","append-icon":t.icon,dark:"",outlined:"",dense:""},on:{input:t.checkPhone},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})]}}],null,!0)}),t.otpfield?a("v-text-field",{attrs:{label:"OTP",maxlength:"6",outlined:"",dark:"",dense:""},on:{input:function(e){return t.verified()}},model:{value:t.otp,callback:function(e){t.otp=e},expression:"otp"}}):t._e(),a("validation-provider",{attrs:{name:"email",rules:"email"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-text-field",{attrs:{"error-messages":s,label:"E-mail","append-icon":t.icon2,dark:"",outlined:"",dense:""},on:{input:t.checkEmail},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})]}}],null,!0)}),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg2:""}}),a("v-flex",{staticClass:"mx-10"},[a("v-btn",{staticClass:"mr-4",attrs:{color:"primary",type:"submit",block:"",small:"",depressed:"",disabled:s},on:{click:function(e){return e.preventDefault(),t.csignup(e)}}},[t._v(" Sign Up ")])],1),a("v-flex",{attrs:{lg2:""}})],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg2:""}}),a("v-flex",{staticClass:"my-4 mx-8"},[a("span",{staticClass:"font-weight-regular white--text body-1"},[t._v("Already have an account?"),a("router-link",{attrs:{to:"/login"}},[t._v("Login")])],1)])],1)],1)]}}])})],1)],1)],1)},xt=[];a("b0c0"),a("fb6a");Object(Z["d"])("eager"),Object(Z["c"])("digits",Object(J["a"])(Object(J["a"])({},Q["a"]),{},{message:"{_field_} needs to be {length} digits. ({_value_})"})),Object(Z["c"])("required",Object(J["a"])(Object(J["a"])({},Q["e"]),{},{message:"{_field_} can not be empty"})),Object(Z["c"])("max",Object(J["a"])(Object(J["a"])({},Q["c"]),{},{message:"{_field_} may not be greater than {length} characters"})),Object(Z["c"])("min",Object(J["a"])(Object(J["a"])({},Q["d"]),{},{message:"{_field_}  should be greater than {length} characters"})),Object(Z["c"])("email",Object(J["a"])(Object(J["a"])({},Q["b"]),{},{message:"Email must be valid"}));var _t={components:{ValidationProvider:Z["b"],ValidationObserver:Z["a"],Navbar:F},data:function(){return{name:"",phone:"",otp:"",otpfield:!1,snackbar:!1,snackbar2:!1,icon:"",icon2:"",message:"",message2:"",email:null,show1:!1,show2:!1,user_type:2,password:"",password2:"",passwordRules:[function(t){return!!t||"Please type password."},function(t){return t&&t.length>=6||"minimum 6 characters"}],startlocation:localStorage.getItem("sl"),endlocation:localStorage.getItem("el")}},methods:{submit:function(){this.$refs.observer.validate()},clear:function(){this.name="",this.phone="",this.email="",this.password="",this.password2="",this.$refs.observer.reset()},csignup:function(){var t=this;ht.post("/api/accounts/register/",{phone:this.phone,otp:this.otp,name:this.name,password:this.password,password2:this.password2,user_type:this.user_type,email:this.email}).then((function(e){t.APIData=e.data,console.log(t.APIData),200==t.APIData.Http_response?(t.$session.start(),t.$session.set("user_token",t.APIData.data["token"]),t.clear()):(t.message="Registration Failed",t.snackbar2=!0)})).catch((function(t){alert(t)}))},bookTruck:function(){var t=this;ht.post("/api/customer/cust-dest-create/",{start_location:localStorage.getItem("sl"),end_location:localStorage.getItem("el"),weight:localStorage.getItem("wt"),goods_type:localStorage.getItem("gt"),date:localStorage.getItem("dt"),vehicle_type:localStorage.getItem("vt")},{headers:{Authorization:" Token ".concat(this.$session.get("user_token"))}}).then((function(e){t.APIData=e.data,t.$session.set("sl",t.startlocation),t.$session.set("el",t.endlocation),localStorage.clear(),t.$router.push({name:"HereMap"})})).catch((function(t){alert(t)}))},checkPhone:function(){var t=this;10==this.phone.length&&ht.get("api/accounts/check/?phone="+this.phone).then((function(e){t.APIData=e.data,0==t.APIData.data["new_phone"]?(t.message2="Phonenumber ".concat(t.phone," is already exist"),t.icon="mdi-close-circle-outline",t.snackbar2=!0):t.genOtp()})).catch((function(t){console.log(t)}))},checkEmail:function(){var t=this;".com"==this.email.slice(this.email.length-4)&&ht.get("api/accounts/check/?email="+this.email).then((function(e){t.APIData=e.data,0==t.APIData.data["new_email"]?(t.message2="Email Id ".concat(t.email," is already exist"),t.icon2="mdi-close-circle-outline",t.snackbar2=!0):t.icon2="mdi-checkbox-marked-circle-outline"})).catch((function(t){console.log(t)}))},genOtp:function(){var t=this;10==this.phone.length&&ht.get("api/accounts/otp_gen/?phone="+this.phone).then((function(e){t.APIData=e.data,t.otpfield=!0,t.otp="",t.message=" Your OTP is ".concat(t.APIData.data["OTP"]),t.snackbar=!0})).catch((function(t){console.log(t)}))},verified:function(){6==this.otp.length&this.otp==this.APIData.data["OTP"]?this.icon="mdi-checkbox-marked-circle-outline":this.icon="mdi-close-circle-outline"}}},yt=_t,Ct=(a("d4b0"),Object(c["a"])(yt,wt,xt,!1,null,"669d4396",null)),Pt=Ct.exports;d()(Ct,{VApp:u["a"],VBtn:T["a"],VFlex:H["a"],VLayout:U["a"],VSnackbar:bt["a"],VTextField:it["a"]});var Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"osign"}},[a("Navbar"),a("v-layout",{staticClass:"my-3",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs1:"",sm2:"",md2:"",lg4:""}}),a("v-snackbar",{attrs:{"multi-line":"",color:"teal darken-4",timeout:"10000"},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{color:"black",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",s,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(this.message)+" ")]),a("v-snackbar",{attrs:{color:"red darken-4",top:"","text-color":"white",timeout:"5000"},model:{value:t.snackbar2,callback:function(e){t.snackbar2=e},expression:"snackbar2"}},[t._v(" "+t._s(this.message2)+" ")]),a("v-flex",{attrs:{xs10:"",sm8:"",md6:"",lg4:""}},[a("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(e){var s=e.invalid;return[a("form",{attrs:{id:"osignup"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("v-layout",{staticClass:"my-2",attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"mx-3"},[a("p",{staticClass:"font-weight-black subtitle-1 white--text"},[t._v(" Create your operator account ")])]),a("v-flex")],1),a("validation-provider",{attrs:{name:"Name",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-text-field",{attrs:{"error-messages":s,label:"Operator Name",outlined:"",dark:"",dense:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})]}}],null,!0)}),a("v-text-field",{attrs:{label:"Password",name:"password","append-icon":t.show1?"mdi-eye":"mdi-eye-off",rules:t.passwordRules,type:t.show1?"text":"password",outlined:"",dark:"",dense:""},on:{"click:append":function(e){t.show1=!t.show1}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-text-field",{attrs:{label:"Confirm Password",name:"confirmPassword","append-icon":t.show2?"mdi-eye":"mdi-eye-off",rules:[!!t.password2||"type confirm password",t.password===t.password2||"The password confirmation does not match."],type:t.show2?"text":"password",outlined:"",dark:"",dense:""},on:{"click:append":function(e){t.show2=!t.show2}},model:{value:t.password2,callback:function(e){t.password2=e},expression:"password2"}}),a("validation-provider",{attrs:{name:"Phone Number",rules:{required:!0,digits:10}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-text-field",{attrs:{"error-messages":s,label:"Phone Number",maxlength:"10","append-icon":t.icon,outlined:"",dark:"",dense:""},on:{input:t.checkPhone},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})]}}],null,!0)}),t.otpfield?a("v-text-field",{attrs:{label:"OTP",maxlength:"6",outlined:"",dark:"",dense:""},on:{input:function(e){return t.verified()}},model:{value:t.otp,callback:function(e){t.otp=e},expression:"otp"}}):t._e(),a("validation-provider",{attrs:{name:"email",rules:"email"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-text-field",{attrs:{"error-messages":s,label:"E-mail","append-icon":t.icon2,outlined:"",dark:"",dense:""},on:{input:t.checkEmail},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})]}}],null,!0)}),a("v-layout",{staticClass:"my-1",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg2:""}}),a("v-flex",{staticClass:"mx-10"},[a("v-btn",{staticClass:"mr-4",attrs:{color:"primary",type:"submit",dark:"",block:"",depressed:"",small:"",disabled:s},on:{click:function(e){return e.preventDefault(),t.osignup(e)}}},[t._v(" Sign Up ")])],1),a("v-flex",{attrs:{lg2:""}})],1),a("v-layout",{staticClass:"my-2",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg2:""}}),a("v-flex",[a("span",{staticClass:"mx-6 white--text"},[t._v("Already have an account?"),a("router-link",{attrs:{to:"/login"}},[t._v("Login")])],1)])],1)],1)]}}])})],1)],1)],1)},Vt=[];Object(Z["d"])("eager"),Object(Z["c"])("digits",Object(J["a"])(Object(J["a"])({},Q["a"]),{},{message:"{_field_} needs to be {length} digits. ({_value_})"})),Object(Z["c"])("required",Object(J["a"])(Object(J["a"])({},Q["e"]),{},{message:"{_field_} can not be empty"})),Object(Z["c"])("max",Object(J["a"])(Object(J["a"])({},Q["c"]),{},{message:"{_field_} may not be greater than {length} characters"})),Object(Z["c"])("min",Object(J["a"])(Object(J["a"])({},Q["d"]),{},{message:"{_field_}  should be greater than {length} characters"})),Object(Z["c"])("email",Object(J["a"])(Object(J["a"])({},Q["b"]),{},{message:"Email must be valid"}));var At={components:{ValidationProvider:Z["b"],ValidationObserver:Z["a"],Navbar:F},data:function(){return{name:"",phone:"",otp:"",otpfield:!1,snackbar:!1,snackbar2:!1,message:"",message2:"",icon:"",icon2:"",email:null,show1:!1,show2:!1,user_type:1,password:"",password2:"",passwordRules:[function(t){return!!t||"Please type password."},function(t){return t&&t.length>=6||"minimum 6 characters"}]}},methods:{submit:function(){this.$refs.observer.validate()},clear:function(){this.name="",this.phoneNumber="",this.email="",this.password="",this.confirmPassword="",this.$refs.observer.reset()},osignup:function(){var t=this;ht.post("/api/accounts/register/",{phone:this.phone,otp:this.otp,name:this.name,password:this.password,password2:this.password2,user_type:this.user_type,email:this.email}).then((function(e){t.APIData=e.data,200==t.APIData.Http_response?(t.clear(),t.$router.push({name:"Login"})):(t.message="Registration Failed",t.snackbar2=!0)})).catch((function(t){alert(t)}))},checkPhone:function(){var t=this;10==this.phone.length&&ht.get("api/accounts/check/?phone="+this.phone).then((function(e){t.APIData=e.data,0==t.APIData.data["new_phone"]?(t.message2="Phonenumber ".concat(t.phone," is already exist"),t.icon="mdi-close-circle-outline",t.snackbar2=!0):t.genOtp()})).catch((function(t){console.log(t)}))},checkEmail:function(){var t=this;".com"==this.email.slice(this.email.length-4)&&ht.get("api/accounts/check/?email="+this.email).then((function(e){t.APIData=e.data,0==t.APIData.data["new_email"]?(t.message2="Email Id ".concat(t.email," is already exist"),t.icon2="mdi-close-circle-outline",t.snackbar2=!0):t.icon2="mdi-checkbox-marked-circle-outline"})).catch((function(t){console.log(t)}))},genOtp:function(){var t=this;10==this.phone.length&&ht.get("api/accounts/otp_gen/?phone="+this.phone).then((function(e){t.APIData=e.data,t.otp="",t.otpfield=!0,t.message=" Your OTP is ".concat(t.APIData.data["OTP"]),t.snackbar=!0})).catch((function(t){console.log(t)}))},verified:function(){6==this.otp.length&this.otp==this.APIData.data["OTP"]?this.icon="mdi-checkbox-marked-circle-outline":this.icon="mdi-close-circle-outline"}}},Dt=At,St=(a("344d"),Object(c["a"])(Dt,Ot,Vt,!1,null,"20849350",null)),It=St.exports;d()(St,{VApp:u["a"],VBtn:T["a"],VFlex:H["a"],VLayout:U["a"],VSnackbar:bt["a"],VTextField:it["a"]});var Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",[a("v-app-bar",{attrs:{dense:"",color:"teal darken-4",dark:"",flat:"",app:""}},[a("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("v-toolbar-title",{staticClass:"font-weight-medium"},[t._v("SHUTTLE")]),a("v-spacer"),a("p",{staticClass:"font-italic body-2"},[t._v("Welcome ,")]),a("span",[a("p",{staticClass:"mx-3 font-weight-black body-2"},[t._v(" "+t._s(this.$session.get("user_name"))+" ")])])],1),a("v-navigation-drawer",{attrs:{absolute:"",bottom:"",fixed:"",clipped:"",dark:"","hide-overlay":"",color:"teal darken-4"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-layout",{attrs:{column:"","align-center":""}},[a("v-flex",{staticClass:"mt-5"},[a("v-avatar",{attrs:{size:"100"}},[a("v-icon",{attrs:{size:"80"}},[t._v(" mdi-account-circle ")])],1),a("v-flex",[a("router-link",{attrs:{id:"link",to:"/profilepage"}},[a("p",{staticClass:"ml-3 white--text font-weight-medium body-2"},[t._v(" Edit Profile ✎ ")])])],1)],1)],1),a("v-list",{attrs:{nav:"",dark:""}},[a("v-list-item-group",{attrs:{"active-class":"deep-grey--text text--accent-1"},model:{value:t.group,callback:function(e){t.group=e},expression:"group"}},[a("v-list-item",{staticClass:"font-weight-bold body-2",attrs:{router:"",to:"/booknewtruck"}},[t._v(" Booking a new Truck ")]),a("v-list-item",{staticClass:"font-weight-bold body-2",attrs:{router:"",to:"/bookings"}},[t._v("Current Bookings")]),a("v-list-item",{staticClass:"font-weight-bold body-2",attrs:{router:"",to:"/custrack"}},[t._v(" Track your Shipment ")])],1),a("v-list-item",[a("v-btn",{staticClass:"mx-5 my-10 black--text",attrs:{width:"80%",rounded:"",color:"white",shaped:""},on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[t._v("Logout")])],1)],1)],1)],1)},jt=[],$t={name:"Cpage",data:function(){return{drawer:!0,group:null}},methods:{logout:function(){this.$session.destroy(),localStorage.clear(),this.$router.push({name:"Login"})}},watch:{group:function(){this.drawer=!1}}},Lt=$t,Et=a("8212"),Rt=a("1baa"),Nt=a("f774"),Bt=Object(c["a"])(Lt,Tt,jt,!1,null,null,null),qt=Bt.exports;d()(Bt,{VAppBar:D["a"],VAppBarNavIcon:S["a"],VAvatar:Et["a"],VBtn:T["a"],VFlex:H["a"],VIcon:ot["a"],VLayout:U["a"],VList:j["a"],VListItem:$["a"],VListItemGroup:Rt["a"],VNavigationDrawer:Nt["a"],VSpacer:R["a"],VToolbarTitle:N["b"]});var Ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",[a("v-app-bar",{attrs:{dense:"",color:"indigo darken-4",flat:"",dark:"",app:""}},[a("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("v-app-bar-title",{staticClass:"font-weight-medium"},[t._v("SHUTTLE")]),a("v-spacer"),a("p",{staticClass:"font-italic body-2"},[t._v("Welcome ,")]),a("span",[a("p",{staticClass:"mx-3 font-weight-black body-2"},[t._v(" "+t._s(this.$session.get("user_name"))+" ")])])],1),a("v-navigation-drawer",{attrs:{absolute:"",bottom:"",fixed:"",clipped:"","hide-overlay":"",dark:"",color:"indigo darken-4"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-layout",{attrs:{column:"","align-center":""}},[a("v-flex",{staticClass:"mt-5"},[a("v-avatar",{attrs:{size:"100"}},[a("v-icon",{attrs:{size:"80",dark:""}},[t._v(" mdi-account-circle ")])],1),a("v-flex",[a("router-link",{attrs:{id:"link",to:"/profilepage"}},[a("p",{staticClass:"ml-3 white--text font-weight-medium body-2"},[t._v(" Edit Profile ✎ ")])])],1)],1)],1),a("v-list",{attrs:{nav:"",dark:""}},[a("v-list-item-group",{attrs:{"active-class":"deep-grey--text text--accent-1"},model:{value:t.group,callback:function(e){t.group=e},expression:"group"}},[a("v-list-item",{staticClass:"font-weight-bold body-2",attrs:{router:"",to:"/registertruck"}},[t._v(" Register New Truck ")]),a("v-list-item",{staticClass:"font-weight-bold body-2",attrs:{router:"",to:"/managetrucks"}},[t._v("Manage Trucks ")]),a("v-list-item",{staticClass:"font-weight-bold body-2",attrs:{router:"",to:"/editdrivers"}},[t._v(" Manage Drivers ")]),a("v-list-item",{staticClass:"font-weight-bold body-2",attrs:{router:"",to:"/viewstats"}},[t._v(" Update Trucks Status ")]),a("v-list-item",{staticClass:"font-weight-bold body-2",attrs:{router:"",to:"/panadd"}},[t._v(" Add Your Pancard ")])],1),a("v-list-item",[a("v-btn",{staticClass:"mx-5 my-10 black--text",attrs:{color:"white",width:"80%",rounded:"",shaped:""},on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[t._v("Logout")])],1)],1)],1)],1)},zt=[],Mt={components:{},name:"Opage",data:function(){return{dialog:!1,drawer:!1,group:null}},methods:{logout:function(){this.$session.destroy(),localStorage.clear(),this.$router.push({name:"Login"})}},beforeMount:function(){this.drawer=!this.drawer,this.dialog=!this.dialog}},Ht=Mt,Ut=Object(c["a"])(Ht,Ft,zt,!1,null,null,null),Kt=Ut.exports;d()(Ut,{VAppBar:D["a"],VAppBarNavIcon:S["a"],VAppBarTitle:I["a"],VAvatar:Et["a"],VBtn:T["a"],VFlex:H["a"],VIcon:ot["a"],VLayout:U["a"],VList:j["a"],VListItem:$["a"],VListItemGroup:Rt["a"],VNavigationDrawer:Nt["a"],VSpacer:R["a"]});var Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Opage"),a("v-layout",{staticClass:"my-8",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{sm2:"",md2:"",lg3:""}}),a("v-flex",{attrs:{xs12:"",sm12:"",md8:"",lg8:""}},[a("v-snackbar",{attrs:{rounded:"xl",top:"",color:"red darken-4",timeout:"5000"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[a("span",{staticClass:"white--text mx-15"},[t._v(t._s(this.message))])]),a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"white--text text-left"},[t._v("Truck phonenumber")]),a("th",{staticClass:"white--text text-left"},[t._v("Registration Number")]),a("th",{staticClass:"white--text text-left"},[t._v("Verification")]),a("th",{staticClass:"white--text text-left"},[t._v("Truck Specification")]),a("th")])]),a("tbody",t._l(t.trucks,(function(e){return a("tr",{key:e.truck_num},[a("td",{staticClass:"font-weight-bold",on:{click:function(a){return t.editreg(e.id,e.owner,e.truck_num,e.registration,e.homelocation)}}},[t._v(" "+t._s(e.truck_num)+" ")]),a("v-dialog",{attrs:{"retain-focus":!1,"max-width":"400px",light:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("form",{attrs:{id:"form"}},[a("v-text-field",{staticClass:"mx-8",attrs:{label:"Registation Number",dark:"",clearable:"",outlined:"",rounded:"",dense:""},model:{value:t.regnum,callback:function(e){t.regnum=e},expression:"regnum"}}),a("v-text-field",{staticClass:"mx-8",attrs:{label:"Homelocation",dark:"",disabled:"",clearable:"",rounded:"",outlined:"",dense:""},model:{value:t.homeloc,callback:function(e){t.homeloc=e},expression:"homeloc"}}),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg2:""}}),a("v-flex",{staticClass:"mx-10"},[a("v-btn",{attrs:{depressed:"",block:"",color:"success",small:""},on:{click:function(e){return e.preventDefault(),t.uptruck(t.trid)}}},[t._v("Update")])],1),a("v-flex",{attrs:{lg2:""}})],1)],1)]),a("td",{staticClass:"font-weight-bold"},[t._v(t._s(e.registration))]),1==e.is_verified?a("td",{staticClass:"font-weight-bold"},[t._v(" ✅ ")]):t._e(),0==e.is_verified?a("td",{staticClass:"font-weight-bold"},[t._v(" ❌ ")]):t._e(),a("td",{staticClass:"font-weight-bold",on:{click:function(a){return t.showinfo(e.id)}}},[t._v(" View/Edit ")]),a("v-dialog",{attrs:{"retain-focus":!1,"max-width":"400px",light:""},model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[a("form",{attrs:{id:"form2"}},[a("v-text-field",{staticClass:"mx-8",attrs:{label:"Capacity in ton",clearable:"",dark:"",outlined:"",rounded:"",dense:""},model:{value:t.cap,callback:function(e){t.cap=e},expression:"cap"}}),a("v-text-field",{staticClass:"mx-8",attrs:{label:"Manufacturer",clearable:"",dark:"",outlined:"",rounded:"",dense:""},model:{value:t.manf,callback:function(e){t.manf=e},expression:"manf"}}),a("v-text-field",{staticClass:"mx-8",attrs:{label:"Model",clearable:"",dark:"",outlined:"",rounded:"",dense:""},model:{value:t.mod,callback:function(e){t.mod=e},expression:"mod"}}),a("v-select",{staticClass:"mx-8",attrs:{items:t.types,label:"Type",clearable:"",dark:"",outlined:"",rounded:"",dense:""},model:{value:t.typ,callback:function(e){t.typ=e},expression:"typ"}}),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg2:""}}),a("v-flex",{staticClass:"mx-10"},[a("v-btn",{attrs:{block:"",depressed:"",color:"success",small:""},on:{click:function(e){return e.preventDefault(),t.infoedit(t.idt)}}},[t._v("Update")])],1),a("v-flex",{attrs:{lg2:""}})],1)],1)]),a("td",[a("v-btn",{attrs:{depressed:"",outlined:"",text:"",dark:"","x-small":"",color:"red accent-4"},on:{click:function(e){e.preventDefault(),t.dialog1=!t.dialog1}}},[t._v("Delete")])],1),a("v-dialog",{attrs:{persistent:"","max-width":"380"},model:{value:t.dialog1,callback:function(e){t.dialog1=e},expression:"dialog1"}},[a("v-card",[a("v-card-text",{staticClass:"subtitle-1 font-weight-bold black--text"},[t._v("Are you sure want to remove this truck?")]),a("v-spacer"),a("v-flex",{staticClass:"ml-15"},[a("v-btn",{staticClass:"ml-10",attrs:{small:"",text:""},on:{click:function(e){t.dialog1=!t.dialog1}}},[t._v("Close")]),a("v-btn",{attrs:{small:"",text:"",color:"red"},on:{click:function(a){return a.preventDefault(),t.deleteTruck(e.id,e.registration)}}},[t._v("Remove")])],1)],1)],1)],1)})),0)]},proxy:!0}])})],1)],1),a("v-dialog",{attrs:{"max-width":"250"},model:{value:t.dialog3,callback:function(e){t.dialog3=e},expression:"dialog3"}},[a("v-card",[a("v-card-text",{staticClass:"subtitle-1 black--text"},[t._v(" "+t._s(this.specmsg)+" ")]),a("v-spacer"),a("v-btn",{attrs:{small:"",color:"red darken-1",text:""},on:{click:function(e){return t.speclater()}}},[t._v(" Later ")]),a("v-btn",{attrs:{small:"",color:"green darken-1",text:""},on:{click:function(e){return t.specnow()}}},[t._v(" Add Now ")])],1)],1)],1)},Yt=[],Wt={name:"Tmanage",components:{Opage:Kt},data:function(){return{trucks:[],dialog1:!1,tspec:!1,dialog:!1,trid:"",regnum:"",homeloc:"",owner:"",truck_num:"",message:"",snackbar:!1,dialog2:!1,idt:"",cap:"",manf:"",mod:"",types:["Tipper","Lorry","Pickup","Tanker","Tow truck","Van","Container Truck","Car transporter"],typ:"",dialog3:!1,specmsg:""}},beforeMount:function(){var t=this;ht.get("/api/truck/truck-list/",{headers:{Authorization:"Token ".concat(this.$session.get("user_token"))}}).then((function(e){for(var a in t.APIData=e.data,t.APIData)t.trucks.push(t.APIData[a])})).catch((function(t){alert(t)}))},methods:{deleteTruck:function(t,e){var a=this;ht.delete("/api/truck/truck-delete/"+t+"/",{headers:{Authorization:"Token ".concat(this.$session.get("user_token"))}}).then((function(t){a.APIData=t.data,a.message="Truck ".concat(e," is successfully removed"),window.location.reload(),a.snackbar=!a.snackbar})).catch((function(t){alert(t)}))},editreg:function(t,e,a,s,n){var o=this;console.log(t),ht.get("/api/truck/truck-detail/"+t+"/",{headers:{Authorization:"Token ".concat(this.$session.get("user_token"))}}).then((function(r){o.APIData=r.data,o.trid=t,o.owner=e,o.truck_num=a,o.regnum=s,o.homeloc=n,o.dialog=!0})).catch((function(t){alert(t)}))},uptruck:function(t){var e=this;ht.post("/api/truck/truck-update/"+t+"/",{owner:this.owner,truck_num:this.truck_num,registration:this.regnum,homelocation:this.homeloc},{headers:{Authorization:"Token ".concat(this.$session.get("user_token"))}}).then((function(t){e.APIData=t.data,window.location.reload()})).catch((function(t){alert(t)}))},showinfo:function(t){var e=this;ht.get("/api/truck/truck-info-detail/"+t+"/",{headers:{Authorization:"Token ".concat(this.$session.get("user_token"))}}).then((function(t){e.APIData=t.data,e.cap=e.APIData["capacity"],e.manf=e.APIData["manufacturer"],e.mod=e.APIData["model"],e.typ=e.APIData["type"],e.idt=e.APIData["truck"],e.dialog2=!0})).catch((function(a){localStorage.setItem("tid",t),e.specmsg="No specifications added",e.dialog3=!0,console.log(a)}))},specnow:function(){this.$router.push({name:"Tdetails"})},speclater:function(){localStorage.removeItem("tid"),this.dialog3=!1},infoedit:function(t){var e=this;ht.post("/api/truck/truck-info-update/"+t+"/",{truck:this.idt,manufacturer:this.manf,type:this.typ,model:this.mod,capacity:this.cap},{headers:{Authorization:"Token ".concat(this.$session.get("user_token"))}}).then((function(t){e.APIData=t.data,window.location.reload()})).catch((function(t){alert(t)}))}}},Xt=Wt,Jt=(a("3dc3"),a("b0af")),Qt=a("99d9"),Zt=a("169a"),te=a("b974"),ee=Object(c["a"])(Xt,Gt,Yt,!1,null,"31021690",null),ae=ee.exports;d()(ee,{VApp:u["a"],VBtn:T["a"],VCard:Jt["a"],VCardText:Qt["c"],VDialog:Zt["a"],VFlex:H["a"],VLayout:U["a"],VSelect:te["a"],VSimpleTable:rt["a"],VSnackbar:bt["a"],VSpacer:R["a"],VTextField:it["a"]});var se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Opage"),a("v-layout",{staticClass:"my-15",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs1:"",sm2:"",md2:"",lg3:""}}),a("v-snackbar",{attrs:{rounded:"xl",text:"",top:"",dark:"",timeout:"3000"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[a("span",{staticClass:"white--text mx-15"},[t._v(t._s(this.message))])]),a("v-flex",{attrs:{xs10:"",sm8:"",md6:"",lg5:""}},[a("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(e){var s=e.invalid;return[a("form",{attrs:{id:"form7"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("validation-provider",{attrs:{name:"Truck",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-select",{attrs:{label:"Truck","error-messages":s,items:t.trucks,clearable:"",rounded:"",outlined:"",dense:""},on:{input:function(e){return t.getLoction()}},model:{value:t.reg,callback:function(e){t.reg=e},expression:"reg"}})]}}],null,!0)}),a("validation-provider",{attrs:{name:"Driver",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-select",{attrs:{label:"Drivers","error-messages":s,items:t.drivers,clearable:"",rounded:"",outlined:"",dense:""},model:{value:t.driver,callback:function(e){t.driver=e},expression:"driver"}})]}}],null,!0)}),a("validation-provider",{attrs:{name:"Status",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-select",{attrs:{items:t.stats,label:"Status","error-messages":s,clearable:"",rounded:"",outlined:"",dense:""},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}})]}}],null,!0)}),a("validation-provider",{attrs:{name:"Location",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-text-field",{attrs:{label:"Location","error-messages":s,clearable:"",rounded:"",outlined:"",dense:""},model:{value:t.loc,callback:function(e){t.loc=e},expression:"loc"}})]}}],null,!0)}),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg3:""}}),a("v-flex",{staticClass:"my-2"},[a("v-btn",{attrs:{disabled:s,rounded:"",block:"",depressed:"",small:"",type:"submit",color:"primary"},on:{click:function(e){return t.truckdetails(t.status,t.loc)}}},[t._v("Save")])],1),a("v-flex",{attrs:{lg3:""}})],1)],1)]}}])})],1)],1)],1)},ne=[];Object(Z["d"])("eager"),Object(Z["c"])("required",Object(J["a"])(Object(J["a"])({},Q["e"]),{},{message:"{_field_} can not be empty"}));var oe={name:"Tstatus",components:{Opage:Kt,ValidationProvider:Z["b"],ValidationObserver:Z["a"]},data:function(){return{truckdata:[],driverdata:[],stats:["Available","Unavailable"],loc:"",status:"",reg:"",driver:"",trucks:[],id:[],drivers:[],tid:"",did:"",message:"",snackbar:!1}},beforeMount:function(){var t=this;ht.get("api/truck/truck-list/",{headers:{Authorization:"Token ".concat(this.$session.get("user_token"))}}).then((function(e){for(var a in t.APIData=e.data,t.APIData)t.trucks.push(t.APIData[a]["registration"]);t.truckdata=t.APIData})).catch((function(t){alert(t)}))},mounted:function(){var t=this;ht.get("api/operators/driver-list/",{headers:{Authorization:"Token ".concat(this.$session.get("user_token"))}}).then((function(e){for(var a in t.APIData=e.data,t.APIData)t.drivers.push(t.APIData[a]["driver_name"]);t.driverdata=t.APIData})).catch((function(t){alert(t)}))},methods:{submit:function(){this.$refs.observer.validate()},clear:function(){this.reg="",this.driver="",this.status="",this.loc="",this.$refs.observer.reset()},getLoction:function(){for(var t in this.truckdata)this.reg==this.truckdata[t]["registration"]&&(this.loc=this.truckdata[t]["homelocation"])},truckdetails:function(t,e){var a=this;for(var s in this.truckdata)this.reg==this.truckdata[s]["registration"]&&(this.tid=this.truckdata[s]["id"]);for(var n in this.driverdata)this.driver==this.driverdata[n]["driver_name"]&&(this.did=this.driverdata[n]["id"]);ht.post("/api/truck/truck-status-create/",{truck:this.tid,driver:this.did,status:t,location:e},{headers:{Authorization:"Token ".concat(this.$session.get("user_token"))}}).then((function(t){a.APIData=t.data,a.message="New Status Created Successfully",a.snackbar=!0,a.clear()})).catch((function(t){t.response.data["truck"]?alert("Truck "+a.reg+" is already assgined to a driver"):t.response.data["driver"]&&alert(a.driver+" is already assigned to a truck."),console.log(t)}))}}},re=oe,ie=(a("d5de"),Object(c["a"])(re,se,ne,!1,null,"3ed1d44a",null)),ce=ie.exports;d()(ie,{VApp:u["a"],VBtn:T["a"],VFlex:H["a"],VLayout:U["a"],VSelect:te["a"],VSnackbar:bt["a"],VTextField:it["a"]});var le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-app-bar",{attrs:{dense:"",color:"black",dark:"",app:""}},[a("v-toolbar-title",{staticClass:"font-weight-medium"},[t._v("SHUTTLE")]),a("v-spacer"),a("v-menu",{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({attrs:{dark:"",icon:""}},"v-btn",n,!1),s),[a("v-icon",{attrs:{color:"white"}},[t._v("mdi-dots-vertical")])],1)]}}])},[a("v-list",[a("v-list-item",{on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[t._v(" Logout ")])],1)],1)],1),a("v-snackbar",{attrs:{rounded:"xl",text:"",top:"",dark:"",timeout:"10000"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[a("v-flex",[t._v("Customer : "+t._s(this.customer))]),a("v-flex",[t._v("Start Location : "+t._s(this.start_location))]),a("v-flex",[t._v("End Location : "+t._s(this.end_location))]),a("v-flex",[t._v("Cost : "+t._s(this.fee))]),a("v-spacer"),a("v-layout",{staticClass:"my-2",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg2:""}}),a("v-flex",{staticClass:"mx-5"},[a("v-btn",{attrs:{small:"",color:"green",text:""},on:{click:function(e){return e.preventDefault(),t.sendResponse(!0)}}},[t._v("Accept")]),a("v-btn",{attrs:{small:"",color:"red",text:""},on:{click:function(e){return e.preventDefault(),t.sendResponse(!1)}}},[t._v("Reject")])],1)],1)],1)],1)},de=[],ue={name:"Dpage",data:function(){return{snackbar:!1,start_location:"",end_location:"",fee:null,customer:"",ws:""}},created:function(){var t=this;try{this.ws=new WebSocket("ws://shuttle-server.herokuapp.com/ws/"+this.$session.get("user_id")+"/"),this.ws.onmessage=function(e){var a=e.data,s=JSON.parse(a);console.log(s),t.customer=s["customer"],t.start_location=s["src"],t.end_location=s["dest"],t.fee=s["fee"],t.showAlert()}}catch(e){console.log(e)}},methods:{showAlert:function(){this.snackbar=!0},sendResponse:function(t){var e=this.$session.get("user_name"),a=this.start_location,s=this.end_location,n=this.fee,o=JSON.stringify({customer:e,src:a,dest:s,fee:n,accept_reject:t});this.ws.send(o),this.disconnect()},disconnect:function(){this.snackbar=!1,this.ws.close(),console.log("websocket disconnected..!")},logout:function(){this.$session.destroy(),this.$router.push({name:"Login"})}}},pe=ue,me=Object(c["a"])(pe,le,de,!1,null,null,null),he=me.exports;d()(me,{VApp:u["a"],VAppBar:D["a"],VBtn:T["a"],VFlex:H["a"],VIcon:ot["a"],VLayout:U["a"],VList:j["a"],VListItem:$["a"],VMenu:E["a"],VSnackbar:bt["a"],VSpacer:R["a"],VToolbarTitle:N["b"]});var fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Opage"),a("v-layout",{staticClass:"my-3",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs1:"",sm2:"",md2:"",lg4:""}}),a("v-snackbar",{attrs:{"multi-line":"",color:"teal darken-4",timeout:"10000"},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{color:"black",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",s,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(this.message)+" ")]),a("v-snackbar",{attrs:{color:"red darken-4",top:"","text-color":"white",timeout:"5000"},model:{value:t.snackbar2,callback:function(e){t.snackbar2=e},expression:"snackbar2"}},[t._v(" "+t._s(this.message2)+" ")]),a("v-flex",{attrs:{xs10:"",sm8:"",md6:"",lg4:""}},[a("validation-observer",{ref:"observer1",scopedSlots:t._u([{key:"default",fn:function(e){var s=e.invalid;return[a("form",{attrs:{id:"form2"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("v-layout",[a("v-flex",[a("p",{staticClass:"headline font-weight-bold"},[t._v(" Fill the details ")])])],1),a("validation-provider",{attrs:{name:"Name"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-text-field",{attrs:{"error-messages":s,label:"Name of your truck",clearable:"",outlined:"",rounded:"",dense:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})]}}],null,!0)}),a("v-text-field",{attrs:{label:"Password *",name:"password","append-icon":t.show1?"mdi-eye":"mdi-eye-off",rules:t.passwordRules,type:t.show1?"text":"password",outlined:"",rounded:"",dense:""},on:{"click:append":function(e){t.show1=!t.show1}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-text-field",{attrs:{label:"Confirm Password *",name:"confirmPassword","append-icon":t.show2?"mdi-eye":"mdi-eye-off",rules:[!!t.password2||"type confirm password",t.password===t.password2||"The password confirmation does not match."],type:t.show2?"text":"password",outlined:"",rounded:"",dense:""},on:{"click:append":function(e){t.show2=!t.show2}},model:{value:t.password2,callback:function(e){t.password2=e},expression:"password2"}}),a("validation-provider",{attrs:{name:"Phone Number",rules:{required:!0,digits:10}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-text-field",{attrs:{"error-messages":s,label:" Phone number to contact your truck *",maxlength:"10","append-icon":t.icon,outlined:"",rounded:"",dense:""},on:{input:t.checkPhone},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})]}}],null,!0)}),t.otpfield?a("v-text-field",{attrs:{label:"OTP",maxlength:"6",outlined:"",rounded:"",dense:""},on:{input:function(e){return t.verified()}},model:{value:t.otp,callback:function(e){t.otp=e},expression:"otp"}}):t._e(),a("v-card-text",[a("span",[t._v("*indicate fields are necessary")])]),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg3:""}}),a("v-flex",{staticClass:"my-2"},[a("v-btn",{attrs:{type:"submit",disabled:s,color:"primary",rounded:"",small:"",depressed:"",block:""},on:{click:function(e){return e.preventDefault(),t.tsignup(e)}}},[t._v("Save")])],1),a("v-flex",{attrs:{lg3:""}})],1)],1)]}}])})],1)],1)],1)},ve=[];Object(Z["d"])("eager"),Object(Z["c"])("digits",Object(J["a"])(Object(J["a"])({},Q["a"]),{},{message:"{_field_} needs to be {length} digits. ({_value_})"})),Object(Z["c"])("required",Object(J["a"])(Object(J["a"])({},Q["e"]),{},{message:"{_field_} can not be empty"})),Object(Z["c"])("max",Object(J["a"])(Object(J["a"])({},Q["c"]),{},{message:"{_field_} may not be greater than {length} characters"})),Object(Z["c"])("min",Object(J["a"])(Object(J["a"])({},Q["d"]),{},{message:"{_field_}  should be greater than {length} characters"}));var be={components:{ValidationProvider:Z["b"],ValidationObserver:Z["a"],Opage:Kt},name:"Treg",data:function(){return{message:"",snackbar:!1,message2:"",snackbar2:!1,drawer:!1,tick:!1,group:null,show1:!1,show2:!1,next:!1,icon:"",name:null,phone:"",otpfield:!1,otp:"",password:"",password2:"",user_type:3,phnerr:"user with this phone already exists.",passwordRules:[function(t){return!!t||"Please type password."},function(t){return t&&t.length>=6||"minimum 6 characters"}]}},methods:{submit:function(){this.$refs.observer1.validate()},clear:function(){this.phone="",this.password="",this.password2="",this.name="",this.$refs.observer1.reset()},tsignup:function(){var t=this;ht.post("/api/accounts/register_crew/",{name:this.name,phone:this.phone,otp:this.otp,password:this.password,password2:this.password2,user_type:this.user_type,email:null},{headers:{Authorization:" Token ".concat(this.$session.get("user_token"))}}).then((function(e){t.APIData=e.data,console.log(t.APIData),200==t.APIData.Http_response?t.$router.push({name:"Tadd"}):(t.message2="Truck Registration Failed",t.snackbar2=!0)})).catch((function(t){console.log(t)}))},checkPhone:function(){var t=this;10==this.phone.length&&ht.get("api/accounts/check/?phone="+this.phone).then((function(e){t.APIData=e.data,0==t.APIData.data["new_phone"]?(t.message2="Phonenumber ".concat(t.phone," is already exist"),t.icon="mdi-close-circle-outline",t.snackbar2=!0):t.genOtp()})).catch((function(t){console.log(t)}))},genOtp:function(){var t=this;10==this.phone.length&&ht.get("api/accounts/otp_gen/?phone="+this.phone).then((function(e){t.APIData=e.data,t.otp="",t.otpfield=!0,t.message=" Your OTP is ".concat(t.APIData.data["OTP"]),t.snackbar=!0})).catch((function(t){console.log(t)}))},verified:function(){6==this.otp.length&this.otp==this.APIData.data["OTP"]?this.icon="mdi-checkbox-marked-circle-outline":this.icon="mdi-close-circle-outline"}}},ge=be,ke=(a("f3a2"),Object(c["a"])(ge,fe,ve,!1,null,"5e78d89f",null)),we=ke.exports;d()(ke,{VApp:u["a"],VBtn:T["a"],VCardText:Qt["c"],VFlex:H["a"],VLayout:U["a"],VSnackbar:bt["a"],VTextField:it["a"]});var xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Opage"),a("v-layout",{staticClass:"my-8",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs1:"",sm2:"",md2:"",lg4:""}}),a("v-flex",{attrs:{xs10:"",sm8:"",md6:"",lg4:""}},[a("v-snackbar",{attrs:{rounded:"xl",text:"",top:"",dark:"",timeout:"3000"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[a("span",{staticClass:"white--text mx-15"},[t._v(t._s(this.message))])]),a("validation-observer",{ref:"observer2",scopedSlots:t._u([{key:"default",fn:function(e){var s=e.invalid;return[a("form",{staticClass:"my-5",attrs:{id:"form3"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("validation-provider",{attrs:{name:"Registration Number",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-text-field",{attrs:{"error-messages":s,label:"Registration Number *",required:"",clearable:"",outlined:"",rounded:"",dense:""},model:{value:t.regnumber,callback:function(e){t.regnumber=e},expression:"regnumber"}})]}}],null,!0)}),a("validation-provider",{attrs:{name:"Home Location",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-text-field",{attrs:{"error-messages":s,label:"Home Location *",type:"search",required:"",clearable:"",outlined:"",rounded:"",dense:""},on:{input:t.doSearch},model:{value:t.homeloc,callback:function(e){t.homeloc=e},expression:"homeloc"}})]}}],null,!0)}),a("v-flex",[t.dropdown?a("v-simple-table",{attrs:{"fixed-header":"",dense:""}},[a("tbody",t._l(t.results,(function(e){return a("tr",{key:e.id},[a("v-icon",{attrs:{dense:""}},[t._v("mdi-map-marker")]),a("td",{on:{click:function(a){return a.preventDefault(),t.getLoc(e.title)}}},[t._v(" "+t._s(e.title)+" ")])],1)})),0)]):t._e()],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg3:""}}),a("v-flex",{staticClass:"my-2"},[a("v-btn",{attrs:{color:"primary",rounded:"",depressed:"",block:"",disabled:s,small:""},on:{click:function(e){return e.preventDefault(),t.truckadd(e)}}},[t._v(" Save ")])],1),a("v-flex",{attrs:{lg3:""}})],1)],1)]}}])})],1)],1)],1)},_e=[];Object(Z["d"])("eager"),Object(Z["c"])("digits",Object(J["a"])(Object(J["a"])({},Q["a"]),{},{message:"{_field_} needs to be {length} digits. ({_value_})"})),Object(Z["c"])("required",Object(J["a"])(Object(J["a"])({},Q["e"]),{},{message:"{_field_} can not be empty"})),Object(Z["c"])("max",Object(J["a"])(Object(J["a"])({},Q["c"]),{},{message:"{_field_} may not be greater than {length} characters"})),Object(Z["c"])("min",Object(J["a"])(Object(J["a"])({},Q["d"]),{},{message:"{_field_}  should be greater than {length} characters"})),s["a"].config.productionTip=!1,s["a"].config.devtools=!1;var ye="ESXHz5D5Ael8RKcRBmnboK969OKc0S9Rbm9aAlRA-8E",Ce="https://autosuggest.search.hereapi.com/v1/autosuggest?at=30.22,-92.02&limit=10&apikey=".concat(ye,"&q="),Pe={name:"Tadd",components:{ValidationProvider:Z["b"],ValidationObserver:Z["a"],Opage:Kt},data:function(){return{snackbar:!1,message:"",truckphone:localStorage.getItem("truck_phn")||null,regnumber:"",homeloc:"",dropdown:!1,results:[]}},methods:{doSearch:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.dropdown=!0,""!==t.homeloc){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,fetch(Ce+encodeURIComponent(t.homeloc));case 5:return a=e.sent,e.next=8,a.json();case 8:s=e.sent,t.results=s.items;case 10:case"end":return e.stop()}}),e)})))()},getLoc:function(t){this.homeloc=t,this.dropdown=!1},submit:function(){this.$refs.observer2.validate()},clear:function(){this.optrphone="",this.truckphone="",this.regnumber="",this.homeloc="",this.$refs.observer2.reset()},truckadd:function(){var t=this;1==this.dropdown?alert("Select a Location"):ht.post("/api/truck/truck-create/",{truck_num:this.truckphone,registration:this.regnumber,homelocation:this.homeloc},{headers:{Authorization:" Token ".concat(this.$session.get("user_token"))}}).then((function(e){t.APIData=e.data,t.message=t.APIData["response"],t.snackbar=!t.snackbar,localStorage.removeItem("truck_phn"),t.clear(),t.$router.push({name:"Tmanage"})})).catch((function(t){alert(t)}))}}},Oe=Pe,Ve=(a("f16d"),Object(c["a"])(Oe,xe,_e,!1,null,"47df0cb2",null)),Ae=Ve.exports;d()(Ve,{VApp:u["a"],VBtn:T["a"],VFlex:H["a"],VIcon:ot["a"],VLayout:U["a"],VSimpleTable:rt["a"],VSnackbar:bt["a"],VTextField:it["a"]});var De=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Opage"),a("v-layout",{staticClass:"my-10",attrs:{row:"",wrap:""}},[a("v-snackbar",{attrs:{"multi-line":"",color:"teal darken-4",timeout:"10000"},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{color:"black",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",s,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(this.message)+" ")]),a("v-snackbar",{attrs:{color:"red darken-4",top:"","text-color":"white",timeout:"5000"},model:{value:t.snackbar2,callback:function(e){t.snackbar2=e},expression:"snackbar2"}},[t._v(" "+t._s(this.message2)+" ")]),a("v-dialog",{attrs:{"max-width":"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" Add your Pan card ")]),a("v-card-text",[t._v(" You can register a new driver , only after add your pan card details. ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Later ")]),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:t.panadding}},[t._v(" Add now ")])],1)],1)],1),a("v-flex",{attrs:{xs1:"",sm2:"",md2:"",lg4:""}}),a("v-flex",{attrs:{xs10:"",sm8:"",md6:"",lg4:""}},[a("validation-observer",{ref:"observer3",scopedSlots:t._u([{key:"default",fn:function(e){var s=e.invalid;return[a("form",{attrs:{id:"form6"},on:{submit:function(e){return e.preventDefault(),t.adddriver(e)}}},[a("validation-provider",{attrs:{name:"Driver Name",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-text-field",{attrs:{"error-messages":s,label:"Driver Name *",outlined:"",rounded:"",dense:""},model:{value:t.driver_name,callback:function(e){t.driver_name=e},expression:"driver_name"}})]}}],null,!0)}),a("validation-provider",{attrs:{name:"Driver Phone number",rules:{required:!0,digits:10}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-text-field",{attrs:{"error-messages":s,label:"Driver Phone Number *",maxlength:"10","append-icon":t.icon,outlined:"",rounded:"",dense:""},on:{input:t.checkPhone},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})]}}],null,!0)}),t.otpfield?a("v-text-field",{attrs:{label:"OTP",maxlength:"6",outlined:"",rounded:"",dense:""},on:{input:function(e){return t.verified()}},model:{value:t.otp,callback:function(e){t.otp=e},expression:"otp"}}):t._e(),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg3:""}}),a("v-flex",{staticClass:"my-2"},[a("v-btn",{attrs:{color:"primary",block:"",small:"",disabled:s,rounded:"",depressed:"",type:"submit"},on:{click:function(e){return e.preventDefault(),t.driveradd(e)}}},[t._v("Register")])],1),a("v-flex",{attrs:{lg3:""}})],1)],1)]}}])})],1)],1)],1)},Se=[];Object(Z["d"])("eager"),Object(Z["c"])("digits",Object(J["a"])(Object(J["a"])({},Q["a"]),{},{message:"{_field_} needs to be {length} digits. ({_value_})"})),Object(Z["c"])("required",Object(J["a"])(Object(J["a"])({},Q["e"]),{},{message:"{_field_} can not be empty"})),Object(Z["c"])("max",Object(J["a"])(Object(J["a"])({},Q["c"]),{},{message:"{_field_} may not be greater than {length} characters"})),Object(Z["c"])("min",Object(J["a"])(Object(J["a"])({},Q["d"]),{},{message:"{_field_}  should be greater than {length} characters"}));var Ie={name:"Dreg",components:{ValidationProvider:Z["b"],ValidationObserver:Z["a"],Opage:Kt},data:function(){return{driver_name:"",phone:"",icon:"",otpfield:!1,otp:"",message:"",snackbar:!1,snackbar2:!1,message2:"",dialog:!1}},methods:{adddriver:function(){this.$refs.observer3.validate()},clear4:function(){this.optr_num="",this.driver_name="",this.driver_phone="",this.$refs.observer3.reset()},driveradd:function(){var t=this;ht.post("/api/operators/driver-create/",{driver_name:this.driver_name,phone:this.driver_phone,otp:this.otp},{headers:{Authorization:"Token ".concat(this.$session.get("user_token"))}}).then((function(e){t.APIData=e.data,console.log(t.APIData),t.APIData["operator_name"]?t.dialog=!0:t.$router.push({name:"Editdrivers"})})).catch((function(t){alert(t)}))},checkPhone:function(){var t=this;10==this.phone.length&&ht.get("api/accounts/check/?phone="+this.phone).then((function(e){t.APIData=e.data,0==t.APIData.data["new_phone"]?(t.message2="Phonenumber ".concat(t.phone," is already exist"),t.icon="mdi-close-circle-outline",t.snackbar2=!0):t.genOtp()})).catch((function(t){console.log(t)}))},genOtp:function(){var t=this;10==this.phone.length&&ht.get("api/accounts/otp_gen/?phone="+this.phone).then((function(e){t.APIData=e.data,t.otp="",t.otpfield=!0,t.message=" Your OTP is ".concat(t.APIData.data["OTP"]),t.snackbar=!0})).catch((function(t){console.log(t)}))},verified:function(){6==this.otp.length&this.otp==this.APIData.data["OTP"]?this.icon="mdi-checkbox-marked-circle-outline":this.icon="mdi-close-circle-outline"},panadding:function(){this.dialog=!1,this.$router.push({name:"Padd"})}}},Te=Ie,je=(a("0898"),Object(c["a"])(Te,De,Se,!1,null,"3838db56",null)),$e=je.exports;d()(je,{VApp:u["a"],VBtn:T["a"],VCard:Jt["a"],VCardActions:Qt["a"],VCardText:Qt["c"],VCardTitle:Qt["d"],VDialog:Zt["a"],VFlex:H["a"],VLayout:U["a"],VSnackbar:bt["a"],VSpacer:R["a"],VTextField:it["a"]});var Le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Opage"),a("v-layout",{staticClass:"my-10",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs1:"",sm2:"",md2:"",lg4:""}}),a("v-flex",{attrs:{xs10:"",sm8:"",md6:"",lg4:""}},[a("v-snackbar",{attrs:{rounded:"xl",text:"",top:"",dark:"",timeout:"3000"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[a("span",{staticClass:"white--text mx-15"},[t._v(t._s(this.message))])]),a("validation-observer",{ref:"observer3",scopedSlots:t._u([{key:"default",fn:function(e){var s=e.invalid;return[a("form",{attrs:{id:"form5"},on:{submit:function(e){return e.preventDefault(),t.addpan(e)}}},[a("v-flex",{staticClass:"my-2"}),a("validation-provider",{attrs:{name:"Pan number",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-text-field",{attrs:{"error-messages":s,label:"Pan Number *",disabled:t.text1,outlined:"",rounded:"",dense:""},model:{value:t.pan,callback:function(e){t.pan=e},expression:"pan"}})]}}],null,!0)}),a("validation-provider",{attrs:{name:"Gst Number",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-text-field",{attrs:{"error-messages":s,label:"Gst Number *",disabled:t.text2,required:"",outlined:"",rounded:"",dense:""},model:{value:t.gst_no,callback:function(e){t.gst_no=e},expression:"gst_no"}})]}}],null,!0)}),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg3:""}}),a("v-flex",{staticClass:"my-2"},[t.show?a("v-btn",{attrs:{rounded:"",small:"",depressed:"",block:"",color:"primary",disabled:s},on:{click:function(e){return e.preventDefault(),t.panadd(e)}}},[t._v("Save")]):t._e()],1),a("v-flex",{attrs:{lg3:""}})],1)],1)]}}])})],1)],1)],1)},Ee=[];Object(Z["d"])("eager"),Object(Z["c"])("digits",Object(J["a"])(Object(J["a"])({},Q["a"]),{},{message:"{_field_} needs to be {length} digits. ({_value_})"})),Object(Z["c"])("required",Object(J["a"])(Object(J["a"])({},Q["e"]),{},{message:"{_field_} can not be empty"})),Object(Z["c"])("max",Object(J["a"])(Object(J["a"])({},Q["c"]),{},{message:"{_field_} may not be greater than {length} characters"})),Object(Z["c"])("min",Object(J["a"])(Object(J["a"])({},Q["d"]),{},{message:"{_field_}  should be greater than {length} characters"}));var Re={name:"Padd",components:{ValidationProvider:Z["b"],ValidationObserver:Z["a"],Opage:Kt},data:function(){return{pan:"",gst_no:"",message:"",text1:!1,text2:!1,show:!0,snackbar:!1}},mounted:function(){var t=this;ht.get("/api/operators/operator-detail/",{headers:{Authorization:"Token ".concat(this.$session.get("user_token"))}}).then((function(e){t.message="Pancard already added",t.snackbar=!0,t.APIData=e.data,t.pan=t.APIData.pan,t.gst_no=t.APIData.gst_no,t.show=!1,t.text1=!0,t.text2=!0})).catch((function(t){console.log(t)}))},methods:{addpan:function(){this.$refs.observer3.validate()},clear:function(){this.pan="",this.gst_no="",this.$refs.observer3.reset()},panadd:function(){var t=this;ht.post("/api/operators/operator-create/",{pan:this.pan,gst_no:this.gst_no},{headers:{Authorization:"Token ".concat(this.$session.get("user_token"))}}).then((function(e){t.APIData=e.data,t.APIData["operator"]?t.message="Pancard already added":t.APIData["response"]&&(t.message=t.APIData["response"]),t.snackbar=!t.snackbar,t.clear(),window.location.reload()})).catch((function(t){alert(t)}))}}},Ne=Re,Be=(a("c168"),Object(c["a"])(Ne,Le,Ee,!1,null,"a4d60ade",null)),qe=Be.exports;d()(Be,{VApp:u["a"],VBtn:T["a"],VFlex:H["a"],VLayout:U["a"],VSnackbar:bt["a"],VTextField:it["a"]});var Fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Opage"),a("v-layout",{staticClass:"my-3",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg4:""}}),a("v-flex",{attrs:{xs12:"",sm10:"",md8:"",lg4:""}},[a("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(e){var s=e.invalid;return[a("form",{staticClass:"my-5",attrs:{id:"form4"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("validation-provider",{attrs:{name:"manufacturer",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-text-field",{attrs:{label:"Manufacturer *","error-messages":s,name:"manufacturer",clearable:"",outlined:"",rounded:"",dense:""},model:{value:t.manufacturer,callback:function(e){t.manufacturer=e},expression:"manufacturer"}})]}}],null,!0)}),a("validation-provider",{attrs:{name:"type",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-combobox",{attrs:{label:"Type *",items:t.types,name:"type","error-messages":s,clearable:"",outlined:"",rounded:"",dense:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})]}}],null,!0)}),a("validation-provider",{attrs:{name:"model",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-text-field",{attrs:{"error-messages":s,label:"Model *",clearable:"",outlined:"",rounded:"",dense:""},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})]}}],null,!0)}),a("validation-provider",{attrs:{name:"capacity",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-text-field",{attrs:{"error-messages":s,label:"Capacity in ton *",clearable:"",outlined:"",rounded:"",dense:""},model:{value:t.capacity,callback:function(e){t.capacity=e},expression:"capacity"}})]}}],null,!0)}),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg3:""}}),a("v-flex",{staticClass:"my-2"},[a("v-btn",{attrs:{color:"primary",type:"submit",disabled:s,block:"",depressed:"",rounded:"",small:""},on:{click:function(e){return e.preventDefault(),t.trucketails(e)}}},[t._v(" Save ")])],1),a("v-flex",{attrs:{lg3:""}})],1)],1)]}}])})],1)],1)],1)},ze=[];Object(Z["d"])("eager"),Object(Z["c"])("digits",Object(J["a"])(Object(J["a"])({},Q["a"]),{},{message:"{_field_} needs to be {length} digits. ({_value_})"})),Object(Z["c"])("required",Object(J["a"])(Object(J["a"])({},Q["e"]),{},{message:"{_field_} can not be empty"})),Object(Z["c"])("max",Object(J["a"])(Object(J["a"])({},Q["c"]),{},{message:"{_field_} may not be greater than {length} characters"})),Object(Z["c"])("min",Object(J["a"])(Object(J["a"])({},Q["d"]),{},{message:"{_field_}  should be greater than {length} characters"})),Object(Z["c"])("email",Object(J["a"])(Object(J["a"])({},Q["b"]),{},{message:"Email must be valid"}));var Me={name:"Tdetails",components:{ValidationProvider:Z["b"],ValidationObserver:Z["a"],Opage:Kt},data:function(){return{manufacturer:"",type:"",types:["Tipper","Lorry","Pickup","Tanker","Tow truck","Van","Container Truck","Car transporter"],model:"",capacity:""}},methods:{submit:function(){this.$refs.observer.validate()},clear:function(){},trucketails:function(){var t=this;ht.post("/api/truck/truck-info-create/",{truck:localStorage.getItem("tid"),manufacturer:this.manufacturer,type:this.type,model:this.model,capacity:this.capacity},{headers:{Authorization:"Token ".concat(this.$session.get("user_token"))}}).then((function(e){t.APIData=e.data,console.log(t.APIData),localStorage.removeItem("tid"),t.$router.push({name:"Tmanage"})})).catch((function(t){alert(t)}))}}},He=Me,Ue=(a("b093"),a("2b5d")),Ke=Object(c["a"])(He,Fe,ze,!1,null,"6fb11a29",null),Ge=Ke.exports;d()(Ke,{VApp:u["a"],VBtn:T["a"],VCombobox:Ue["a"],VFlex:H["a"],VLayout:U["a"],VTextField:it["a"]});var Ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Opage"),a("v-layout",{staticClass:"my-10",attrs:{"justify-center":""}},[a("v-snackbar",{attrs:{rounded:"xl",top:"",color:"red darken-4",timeout:"5000"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[a("span",{staticClass:"white--text mx-15"},[t._v(t._s(this.message))])]),a("v-flex",{attrs:{xs12:"",sm8:"",md6:"",lg6:""}},[a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"white--text text-left"},[t._v("Driver name")]),a("th",{staticClass:"white--text text-left"},[t._v("Phone number")]),a("th"),a("v-menu",{attrs:{bottom:"",right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({attrs:{dark:"",icon:""}},"v-btn",n,!1),s),[a("v-icon",[t._v("mdi-dots-vertical")])],1)]}}])},[a("v-list",[a("v-list-item",{attrs:{router:"",to:"/driveradd"}},[t._v(" Add a new Driver ")])],1)],1)],1)]),a("tbody",t._l(t.driverdetails,(function(e){return a("tr",{key:e.id},[a("td",{staticClass:"font-weight-bold"},[t._v(t._s(e.driver_name))]),a("td",{staticClass:"font-weight-bold"},[t._v(t._s(e.phone))]),a("td",{staticClass:"font-weight-bold",on:{click:function(a){return t.getaDriver(e.id,e.driver_name,e.phone,e.operator_name)}}},[t._v(" Edit/Delete ")]),a("td"),a("v-dialog",{attrs:{"retain-focus":!1,"max-width":"400px",light:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("form",{attrs:{id:"form6"}},[a("v-text-field",{staticClass:"mx-8",attrs:{label:"Driver Name",clearable:"",dark:"",outlined:"",dense:"",rounded:""},model:{value:t.dname,callback:function(e){t.dname=e},expression:"dname"}}),a("v-text-field",{staticClass:"mx-8",attrs:{label:"Phone number",clearable:"",dark:"",rounded:"",dense:"",outlined:""},model:{value:t.drphn,callback:function(e){t.drphn=e},expression:"drphn"}}),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg2:""}}),a("v-flex",{staticClass:"mx-10"},[a("v-btn",{attrs:{depressed:"",color:"success",small:""},on:{click:function(e){return e.preventDefault(),t.updatedr(t.drid)}}},[t._v("Update")]),a("v-btn",{staticClass:"mx-2",attrs:{depressed:"",color:"red",small:""},on:{click:function(e){t.dialog2=!0}}},[t._v("Delete")]),a("v-dialog",{attrs:{"max-width":"350"},model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[a("v-card",[a("v-card-text",{staticClass:"subtitle-1 black--text"},[t._v(" Are you sure want to delete this driver? ")]),a("v-spacer"),a("v-btn",{attrs:{small:"",color:"green darken-1",text:""},on:{click:function(e){t.dialog2=!1}}},[t._v(" Close ")]),a("v-btn",{attrs:{small:"",color:"red darken-1",text:""},on:{click:t.deletenow}},[t._v(" Delete ")])],1)],1)],1),a("v-flex",{attrs:{lg2:""}})],1)],1)])],1)})),0)]},proxy:!0}])})],1)],1)],1)},We=[],Xe={data:function(){return{driverdetails:[],dialog:!1,dialog2:!1,dname:"",drphn:"",ownerid:"",drid:"",snackbar:!1,message:""}},name:"Editdrivers",components:{Opage:Kt},beforeMount:function(){var t=this;ht.get("/api/operators/driver-list/",{headers:{Authorization:"Token ".concat(this.$session.get("user_token"))}}).then((function(e){for(var a in t.APIData=e.data,t.APIData)t.driverdetails.push(t.APIData[a])})).catch((function(t){alert(t)}))},methods:{getaDriver:function(t,e,a,s){var n=this;ht.get("api/operators/driver-detail/"+t+"/",{headers:{Authorization:"Token ".concat(this.$session.get("user_token"))}}).then((function(o){n.APIData=o.data,n.drid=t,n.dname=e,n.drphn=a,n.ownerid=s,n.dialog=!0})).catch((function(t){alert(t)}))},updatedr:function(t){var e=this;ht.post("api/operators/driver-update/"+t+"/",{driver_name:this.dname,phone:this.drphn,operator_name:this.ownerid},{headers:{Authorization:"Token ".concat(this.$session.get("user_token"))}}).then((function(t){e.APIData=t.data,window.location.reload()})).catch((function(t){alert(t)}))},deletedr:function(t,e){var a=this;ht.delete("api/operators/driver-delete/"+t+"/",{headers:{Authorization:"Token ".concat(this.$session.get("user_token"))}}).then((function(t){a.APIData=t.data,a.message="Driver ".concat(e," is successfully deleted"),window.location.reload(),a.snackbar=!0})).catch((function(t){alert(t)}))},deletenow:function(){this.deletedr(this.drid,this.dname),this.dialog2=!1}}},Je=Xe,Qe=(a("63da"),Object(c["a"])(Je,Ye,We,!1,null,"6803982a",null)),Ze=Qe.exports;d()(Qe,{VApp:u["a"],VBtn:T["a"],VCard:Jt["a"],VCardText:Qt["c"],VDialog:Zt["a"],VFlex:H["a"],VIcon:ot["a"],VLayout:U["a"],VList:j["a"],VListItem:$["a"],VMenu:E["a"],VSimpleTable:rt["a"],VSnackbar:bt["a"],VSpacer:R["a"],VTextField:it["a"]});var ta=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Opage"),a("v-layout",{staticClass:"my-15",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{sm2:"",md2:"",lg3:""}}),a("v-flex",{attrs:{xs12:"",sm8:"",md6:"",lg6:""}},[a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"white--text text-left"},[t._v("Truck")]),a("th",{staticClass:"white--text text-left"},[t._v("Driver")]),a("th",{staticClass:"white--text text-left"},[t._v("Status")]),a("th",{staticClass:"white--text text-left"},[t._v("Location")]),a("th",{staticClass:"white--text text-left"},[t._v("Find vechicle")]),a("v-menu",{attrs:{bottom:"",right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({attrs:{dark:"",icon:""}},"v-btn",n,!1),s),[a("v-icon",[t._v("mdi-dots-vertical")])],1)]}}])},[a("v-list",[a("v-list-item",{attrs:{router:"",to:"/truckstatus"}},[t._v(" Add new Truck Status ")])],1)],1)],1)]),a("tbody",t._l(t.truckdriver,(function(e){return a("tr",{key:e.truck},[a("td",{staticClass:"font-weight-bold"},[t._v(t._s(e.truck))]),a("td",{staticClass:"font-weight-bold"},[t._v(t._s(e.driver))]),a("td",{staticClass:"font-weight-bold"},[t._v(t._s(e.status))]),a("td",{staticClass:"font-weight-bold"},[t._v(t._s(e.location))]),a("td",{staticClass:"font-weight-bold",on:{click:function(a){return t.showdetail(e.location)}}},[a("v-icon",{attrs:{color:"green darken-4"}},[t._v(" mdi-map-marker ")])],1),a("td")])})),0)]},proxy:!0}])})],1)],1)],1)},ea=[],aa={name:"Tstats",components:{Opage:Kt},data:function(){return{truckdriver:[]}},created:function(){var t=this;ht.get("api/truck/truck-status-list/",{headers:{Authorization:"Token ".concat(this.$session.get("user_token"))}}).then((function(e){t.APIData=e.data,t.APIData.Truckdetails.forEach((function(e,a){t.truckdriver.push({truck:e["truck"],driver:t.APIData.Driverdetails[a]["driver_name"],status:e["status"],location:e["location"]})}))})).catch((function(t){alert(t)}))},methods:{showdetail:function(t){console.log(t),this.$session.set("cp",t),this.$router.push({name:"Tracktruck"})}}},sa=aa,na=(a("79cc"),Object(c["a"])(sa,ta,ea,!1,null,"5c5b425a",null)),oa=na.exports;d()(na,{VApp:u["a"],VBtn:T["a"],VFlex:H["a"],VIcon:ot["a"],VLayout:U["a"],VList:j["a"],VListItem:$["a"],VMenu:E["a"],VSimpleTable:rt["a"]});var ra=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"bg"}},[a("v-system-bar",{attrs:{color:"white"}},[a("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mx-2",attrs:{icon:"",dark:"",color:"teal"}},"v-btn",n,!1),s),[a("v-icon",{attrs:{dark:""}},[t._v(" mdi-format-list-bulleted-square ")])],1)]}}])},[a("v-list",[a("v-list-item",{attrs:{router:"",to:"/bookings"}},[a("v-list-item-title",[t._v("Back")])],1)],1)],1)],1),a("p",{staticClass:"my-2 white--text font-weight-medium"},[t._v(" Route TollCost :"),a("span",{staticClass:"mx-2"},[t._v(t._s(this.tollCost)+" INR")])]),a("div",{attrs:{id:"map"}},[a("div",{ref:"hereMap",staticStyle:{height:"800px",width:"100%"},attrs:{id:"mapContainer"}})])],1)},ia=[],ca=(a("d81d"),{name:"HereMap",computed:{},data:function(){return{center:{},platform:null,apikey:"ESXHz5D5Ael8RKcRBmnboK969OKc0S9Rbm9aAlRA-8E",router:{},geocoder:{},directions:[],routes:"",start:"",end:"",cost:[],tollCost:"",origin:[],dest:[]}},mounted:function(){var t=window.H,e=new t.service.Platform({apikey:this.apikey}),a=e.createDefaultLayers(),s=new t.Map(document.getElementById("mapContainer"),a.vector.normal.map,{zoom:5,center:{lat:20.5937,lng:78.9629}});addEventListener("resize",(function(){return s.getViewPort().resize()})),new t.mapevents.Behavior(new t.mapevents.MapEvents(s)),t.ui.UI.createDefault(s,a);var n=e.getSearchService();this.getGeocord(t,s,n,e)},methods:{getGeocord:function(t,e,a,s){var n=this;a.geocode({q:this.$session.get("sl")},(function(t){t.items.forEach((function(t){n.origin.push(t.position["lat"]),n.origin.push(t.position["lng"])}));var e=n.origin.slice(0,2);n.start=e.toString()})),a.geocode({q:this.$session.get("el")},(function(a){a.items.forEach((function(t){n.dest.push(t.position["lat"]),n.dest.push(t.position["lng"])}));var o=n.dest.slice(0,2);n.end=o.toString(),n.setRoute(t,e,s)}))},setRoute:function(t,e,a){var s={routingMode:"fast",transportMode:"truck",origin:this.start,destination:this.end,return:"polyline"};this.showRoute(t,e,a,s)},showRoute:function(t,e,a,s){var n=function(a){a.routes.length&&a.routes[0].sections.forEach((function(a){var s=t.geo.LineString.fromFlexiblePolyline(a.polyline),n=new t.map.Polyline(s,{style:{strokeColor:"blue",lineWidth:3}}),o=new t.map.Marker(a.departure.place.location),r=new t.map.Marker(a.arrival.place.location);e.addObjects([n,o,r]),e.getViewModel().setLookAtData({bounds:n.getBoundingBox()})})),console.log(a)},o=a.getRoutingService(null,8);o.calculateRoute(s,n,(function(t){console.log(t.message)})),this.getCost()},getCost:function(){var t=this;ht.post("/api/maps/set-route/",{start_point:this.start,end_point:this.end},{headers:{Authorization:"Token ".concat(this.$session.get("user_token"))}}).then((function(e){for(var a in t.APIData=e.data,t.APIData)t.routes=t.APIData[a]["route"];for(var s in t.routes)t.cost=t.routes[s]["cost"];t.tollCost=t.cost["totalCost"],localStorage.setItem("cost",t.tollCost)})).catch((function(t){console.log(t)}))},refresh:function(){window.location.reload()}}}),la=ca,da=(a("abd5"),a("afd9")),ua=Object(c["a"])(la,ra,ia,!1,null,"083bff5c",null),pa=ua.exports;d()(ua,{VApp:u["a"],VBtn:T["a"],VIcon:ot["a"],VList:j["a"],VListItem:$["a"],VListItemTitle:L["b"],VMenu:E["a"],VSystemBar:da["a"]});var ma=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Cpage"),a("v-layout",{staticClass:"my-2",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs2:"",sm2:"",md2:"",lg4:""}}),a("v-flex",{attrs:{xs8:"",sm8:"",md6:"",lg4:""}},[a("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(e){var s=e.invalid;return[a("form",{attrs:{id:"booknew"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("v-layout",{staticClass:"my-2",attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"mx-3"},[a("h2",[t._v("Book a Truck")])]),a("v-flex")],1),a("v-text-field",{attrs:{label:"Start Location",type:"search","prepend-inner-icon":"mdi-map-marker",clearable:"",outlined:"",dense:""},on:{input:t.doSearch1},model:{value:t.startlocation,callback:function(e){t.startlocation=e},expression:"startlocation"}}),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs10:"",sm10:"",md10:"",lg10:""}}),a("v-flex",[a("v-btn",{attrs:{dark:"","x-small":""},on:{click:function(e){return e.preventDefault(),t.swapLoc()}}},[a("span",{staticClass:"material-icons"},[t._v(" swap_vert ")])])],1),a("v-flex",[t.dropdown1?a("v-simple-table",{attrs:{dense:""}},[a("thead",[a("tr",{on:{click:function(e){return e.preventDefault(),t.getLocation()}}},[a("td",[a("span",{staticClass:"material-icons"},[t._v(" my_location ")])]),a("td",[t._v("Your Location")])])]),a("tbody",t._l(t.results1,(function(e){return a("tr",{key:e.id},[a("v-icon",{attrs:{dense:""}},[t._v("mdi-map-marker")]),a("td",{on:{click:function(a){return a.preventDefault(),t.getStart(e.title)}}},[t._v(" "+t._s(e.title)+" ")])],1)})),0)]):t._e()],1)],1),a("v-text-field",{staticClass:"my-5",attrs:{label:"End Location",type:"search","prepend-inner-icon":"mdi-map-marker",clearable:"",outlined:"",dense:""},on:{input:t.doSearch2},model:{value:t.endlocation,callback:function(e){t.endlocation=e},expression:"endlocation"}}),a("v-flex",[t.dropdown2?a("v-simple-table",{attrs:{dense:""}},[a("tbody",t._l(t.results2,(function(e){return a("tr",{key:e.id},[a("v-icon",{attrs:{dense:""}},[t._v("mdi-map-marker")]),a("td",{on:{click:function(a){return a.preventDefault(),t.getEnd(e.title)}}},[t._v(" "+t._s(e.title)+" ")])],1)})),0)]):t._e()],1),a("validation-provider",{attrs:{name:"Date",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-text-field",{attrs:{"error-messages":s,label:"Date of Transport",type:"date",clearable:"",outlined:"",dense:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})]}}],null,!0)}),a("validation-provider",{attrs:{name:"Weight",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-text-field",{attrs:{"error-messages":s,label:"Weight in ton",clearable:"",outlined:"",dense:""},model:{value:t.weight,callback:function(e){t.weight=e},expression:"weight"}})]}}],null,!0)}),a("validation-provider",{attrs:{name:"type",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-autocomplete",{attrs:{label:"Vehicle Type",items:t.types,name:"type","error-messages":s,clearable:"",flat:"",outlined:"",dense:""},model:{value:t.vtype,callback:function(e){t.vtype=e},expression:"vtype"}})]}}],null,!0)}),a("validation-provider",{attrs:{name:"Goods Type",rules:"required|max:10"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-text-field",{attrs:{"error-messages":s,label:"Goods Type",clearable:"",outlined:"",dense:""},model:{value:t.goodstype,callback:function(e){t.goodstype=e},expression:"goodstype"}})]}}],null,!0)}),a("v-layout",{staticClass:"my-1",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg3:""}}),a("v-flex",[a("v-btn",{attrs:{dark:"",type:"submit",block:"",disabled:s,router:"",depressed:"",small:""},on:{click:function(e){return e.preventDefault(),t.bookTruck(e)}}},[t._v(" Confirm ")])],1),a("v-flex",{attrs:{lg3:""}})],1)],1)]}}])})],1)],1)],1)},ha=[];Object(Z["d"])("eager"),Object(Z["c"])("digits",Object(J["a"])(Object(J["a"])({},Q["a"]),{},{message:"{_field_} needs to be digits. ({_value_})"})),Object(Z["c"])("required",Object(J["a"])(Object(J["a"])({},Q["e"]),{},{message:"required"})),Object(Z["c"])("max",Object(J["a"])(Object(J["a"])({},Q["c"]),{},{message:"{_field_} may not be greater than {length} characters"})),s["a"].config.productionTip=!1,s["a"].config.devtools=!1;var fa="ESXHz5D5Ael8RKcRBmnboK969OKc0S9Rbm9aAlRA-8E",va="https://autosuggest.search.hereapi.com/v1/autosuggest?at=30.22,-92.02&limit=10&apikey=".concat(fa,"&q="),ba={name:"Bnewtruck",components:{ValidationProvider:Z["b"],ValidationObserver:Z["a"],Cpage:qt},data:function(){return{startlocation:localStorage.getItem("sl"),endlocation:localStorage.getItem("el"),date:localStorage.getItem("dt"),weight:localStorage.getItem("wt"),goodstype:localStorage.getItem("gt"),vtype:"",types:["Tipper","Lorry","Pickup","Tanker","Tow truck","Van","Container Truck","Car transporter"],dropdown1:!1,dropdown2:!1,results1:[],results2:[],crntltln:[],crntloc:""}},methods:{doSearch1:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.dropdown1=!0,""!==t.startlocation){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,fetch(va+encodeURIComponent(t.startlocation));case 5:return a=e.sent,e.next=8,a.json();case 8:s=e.sent,t.results1=s.items;case 10:case"end":return e.stop()}}),e)})))()},doSearch2:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.dropdown2=!0,""!==t.endlocation){e.next=3;break}return e.abrupt("return");case 3:return console.log("doSearch2"),e.next=6,fetch(va+encodeURIComponent(t.endlocation));case 6:return a=e.sent,e.next=9,a.json();case 9:s=e.sent,t.results2=s.items;case 11:case"end":return e.stop()}}),e)})))()},getStart:function(t){this.startlocation=t,this.dropdown1=!1},getEnd:function(t){this.endlocation=t,this.dropdown2=!1},getLocation:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(this.showPosition):alert("Geolocation is not supported by this browser")},showPosition:function(t){this.crntltln.push(t.coords.latitude),this.crntltln.push(t.coords.longitude),this.crntloc=this.crntltln.toString(),this.inputCrntloc()},inputCrntloc:function(){var t=this,e=window.H,a=new e.service.Platform({apikey:"ESXHz5D5Ael8RKcRBmnboK969OKc0S9Rbm9aAlRA-8E"}),s=a.getSearchService();s.reverseGeocode({at:this.crntloc},(function(e){e.items.forEach((function(e){t.startlocation=e.address.label,t.crntltln=[]})),t.dropdown1=!1}),alert)},swapLoc:function(){var t=this.startlocation;this.startlocation=this.endlocation,this.endlocation=t},submit:function(){this.$refs.observer.validate()},clear:function(){localStorage.clear(),this.startlocation="",this.endlocation="",this.weight="",this.date="",this.goodstype="",this.$refs.observer.reset()},bookTruck:function(){var t=this;1==(this.dropdown1||this.dropdown2)?alert("Select a Location"):ht.post("/api/customer/cust-dest-create/",{start_location:this.startlocation,end_location:this.endlocation,weight:this.weight,goods_type:this.goodstype,date:this.date,vehicle_type:this.vtype},{headers:{Authorization:" Token ".concat(this.$session.get("user_token"))}}).then((function(e){t.APIData=e.data,t.$session.set("sl",t.startlocation),t.$session.set("el",t.endlocation),t.clear(),localStorage.clear(),t.$router.push({name:"HereMap"})})).catch((function(t){alert(t)}))}}},ga=ba,ka=(a("df2f"),Object(c["a"])(ga,ma,ha,!1,null,"3b885aba",null)),wa=ka.exports;d()(ka,{VApp:u["a"],VAutocomplete:nt["a"],VBtn:T["a"],VFlex:H["a"],VIcon:ot["a"],VLayout:U["a"],VSimpleTable:rt["a"],VTextField:it["a"]});var xa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"cnewsign"}},[a("Navbar"),a("v-layout",{staticClass:"my-5",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs1:"",sm2:"",md3:"",lg4:""}}),a("v-snackbar",{attrs:{"multi-line":"",color:"teal darken-4",timeout:"10000"},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{color:"black",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",s,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(this.message)+" ")]),a("v-snackbar",{attrs:{color:"red darken-4",top:"","text-color":"white",timeout:"5000"},model:{value:t.snackbar2,callback:function(e){t.snackbar2=e},expression:"snackbar2"}},[t._v(" "+t._s(this.message2)+" ")]),a("v-flex",{attrs:{xs10:"",sm8:"",md6:"",lg4:""}},[a("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(e){var s=e.invalid;return[a("form",{attrs:{id:"cnewsignup"},on:{submit:function(e){return e.preventDefault(),t.csignup(e)}}},[a("v-layout",{staticClass:"my-2",attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"mx-3"},[a("p",{staticClass:"font-weight-black white--text"},[t._v(" Create your customer account ")])]),a("v-flex")],1),a("validation-provider",{attrs:{name:"Name",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-text-field",{attrs:{"error-messages":s,label:"Customer Name",outlined:"",dark:"",dense:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})]}}],null,!0)}),a("v-text-field",{attrs:{label:"Password",name:"password","append-icon":t.show1?"mdi-eye":"mdi-eye-off",rules:t.passwordRules,type:t.show1?"text":"password",outlined:"",dark:"",dense:""},on:{"click:append":function(e){t.show1=!t.show1}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-text-field",{attrs:{label:"Confirm Password",name:"confirmPassword","append-icon":t.show2?"mdi-eye":"mdi-eye-off",rules:[!!t.password2||"type confirm password",t.password===t.password2||"The password confirmation does not match."],type:t.show2?"text":"password",outlined:"",dark:"",dense:""},on:{"click:append":function(e){t.show2=!t.show2}},model:{value:t.password2,callback:function(e){t.password2=e},expression:"password2"}}),a("validation-provider",{attrs:{name:"Phone Number",rules:{required:!0,digits:10}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-text-field",{attrs:{"error-messages":s,label:"Phone Number",maxlength:"10","append-icon":t.icon,outlined:"",dark:"",dense:""},on:{input:t.checkPhone},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})]}}],null,!0)}),t.otpfield?a("v-text-field",{attrs:{label:"OTP",maxlength:"6",outlined:"",dark:"",dense:""},on:{input:t.verified},model:{value:t.otp,callback:function(e){t.otp=e},expression:"otp"}}):t._e(),a("validation-provider",{attrs:{name:"email",rules:"email"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-text-field",{attrs:{"error-messages":s,label:"E-mail","append-icon":t.icon2,outlined:"",dark:"",dense:""},on:{input:t.checkEmail},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})]}}],null,!0)}),a("v-layout",{staticClass:"my-2",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg2:""}}),a("v-flex",{staticClass:"mx-10"},[a("v-btn",{attrs:{color:"primary",type:"submit",dark:"",block:"",small:"",depressed:"",disabled:s}},[t._v(" Sign Up ")])],1),a("v-flex",{attrs:{lg2:""}})],1),a("v-layout",{staticClass:"my-2",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg2:""}}),a("v-flex",{staticClass:"mx-10"},[a("span",{staticClass:"white--text"},[t._v("Already have an account?"),a("router-link",{attrs:{to:"/login"}},[t._v("Login")])],1)])],1)],1)]}}])})],1)],1)],1)},_a=[];Object(Z["d"])("eager"),Object(Z["c"])("digits",Object(J["a"])(Object(J["a"])({},Q["a"]),{},{message:"{_field_} needs to be {length} digits. ({_value_})"})),Object(Z["c"])("required",Object(J["a"])(Object(J["a"])({},Q["e"]),{},{message:"{_field_} can not be empty"})),Object(Z["c"])("max",Object(J["a"])(Object(J["a"])({},Q["c"]),{},{message:"{_field_} may not be greater than {length} characters"})),Object(Z["c"])("min",Object(J["a"])(Object(J["a"])({},Q["d"]),{},{message:"{_field_}  should be greater than {length} characters"})),Object(Z["c"])("email",Object(J["a"])(Object(J["a"])({},Q["b"]),{},{message:"Email must be valid"}));var ya={name:"Newcust",components:{ValidationProvider:Z["b"],ValidationObserver:Z["a"],Navbar:F},data:function(){return{name:"",phone:"",otp:"",otpfield:!1,snackbar:!1,snackbar2:!1,icon:"",icon2:"",message:"",message2:"",email:null,show1:!1,show2:!1,user_type:2,password:"",password2:"",passwordRules:[function(t){return!!t||"Please type password."},function(t){return t&&t.length>=6||"minimum 6 characters"}]}},methods:{clear:function(){this.name="",this.phone="",this.email="",this.password="",this.password2="",this.$refs.observer.reset()},csignup:function(){var t=this;this.$refs.observer.validate(),ht.post("/api/accounts/register/",{phone:this.phone,otp:this.otp,name:this.name,password:this.password,password2:this.password2,user_type:this.user_type,email:this.email}).then((function(e){t.APIData=e.data,200==t.APIData.Http_response?(t.clear(),t.$router.push({name:"Login"})):(t.message="Registration Failed",t.snackbar2=!0)})).catch((function(t){console.log(t)}))},checkPhone:function(){var t=this;10==this.phone.length&&ht.get("api/accounts/check/?phone="+this.phone).then((function(e){t.APIData=e.data,0==t.APIData.data["new_phone"]?(t.message2="Phonenumber ".concat(t.phone," is already exist"),t.icon="mdi-close-circle-outline",t.snackbar2=!0):t.genOtp()})).catch((function(t){console.log(t)}))},checkEmail:function(){var t=this;".com"==this.email.slice(this.email.length-4)&&ht.get("api/accounts/check/?email="+this.email).then((function(e){t.APIData=e.data,0==t.APIData.data["new_email"]?(t.message2="Email Id ".concat(t.email," is already exist"),t.icon2="mdi-close-circle-outline",t.snackbar2=!0):t.icon2="mdi-checkbox-marked-circle-outline"})).catch((function(t){console.log(t)}))},genOtp:function(){var t=this;10==this.phone.length&&ht.get("api/accounts/otp_gen/?phone="+this.phone).then((function(e){t.APIData=e.data,t.otp="",t.otpfield=!0,t.message=" Your OTP is ".concat(t.APIData.data["OTP"]),t.snackbar=!0})).catch((function(t){console.log(t)}))},verified:function(){6==this.otp.length&this.otp==this.APIData.data["OTP"]?this.icon="mdi-checkbox-marked-circle-outline":this.icon="mdi-close-circle-outline"}}},Ca=ya,Pa=(a("6151"),Object(c["a"])(Ca,xa,_a,!1,null,"3a6b3867",null)),Oa=Pa.exports;d()(Pa,{VApp:u["a"],VBtn:T["a"],VFlex:H["a"],VLayout:U["a"],VSnackbar:bt["a"],VTextField:it["a"]});var Va=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Cpage"),a("v-layout",{staticClass:"my-10",attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"mx-8",attrs:{xs2:"",sm2:"",md2:"",lg2:""}}),a("v-flex",{attrs:{xs12:"",sm8:"",md6:"",lg9:""}},[a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left white--text"},[t._v("Date")]),a("th",{staticClass:"text-left white--text"},[t._v("Start Location")]),a("th",{staticClass:"text-left white--text"},[t._v("End Location")]),a("th",{staticClass:"text-left white--text"},[t._v("View Route")]),a("th",{staticClass:"text-left white--text"},[t._v("Transaction Details")]),a("th")])]),a("tbody",t._l(t.destdetails,(function(e){return a("tr",{key:e.id},[a("td",{staticClass:"font-weight-bold"},[t._v(t._s(e.date))]),a("td",{staticClass:"font-weight-bold"},[t._v(t._s(e.start_location))]),a("td",{staticClass:"font-weight-bold"},[t._v(t._s(e.end_location))]),a("td",{staticClass:"font-weight-bold",on:{click:function(a){return a.preventDefault(),t.viewRoute(e.start_location,e.end_location)}}},[t._v(" View ")]),a("td",{staticClass:"font-weight-bold",on:{click:function(a){return a.preventDefault(),t.getTransaction(e.id)}}},[t._v(" View ")]),a("v-dialog",{attrs:{"max-width":"350"},model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[a("v-layout",[a("v-flex",{staticStyle:{"background-color":"black"}},[a("v-card-title",{staticClass:"font-weight-bold white--text mx-10"},[t._v("SHIPMENT INVOICE")])],1)],1),a("v-spacer"),a("v-simple-table",[a("tbody",[a("tr",[a("td",{staticClass:"subtitle-2 font-weight-black"},[t._v(" Truck Owner ")]),a("td",{staticClass:"subtitle-2 font-weight-bold"},[t._v(" "+t._s(t.optrname)+" ")])]),a("tr",[a("td",{staticClass:"subtitle-2 font-weight-black"},[t._v(" Contact Owner ")]),a("td",{staticClass:"subtitle-2 font-weight-bold"},[t._v(" "+t._s(t.optrphn)+" ")])]),a("tr",[a("td",{staticClass:"subtitle-2 font-weight-black"},[t._v("Truck")]),a("td",{staticClass:"subtitle-2 font-weight-bold"},[t._v(" "+t._s(t.truckreg)+" ")])]),a("tr",[a("td",{staticClass:"subtitle-2 font-weight-black"},[t._v(" Contact Driver ")]),a("td",{staticClass:"subtitle-2 font-weight-bold"},[t._v(" "+t._s(t.truckphn)+" ")])]),a("tr",[a("td",{staticClass:"subtitle-2 font-weight-black"},[t._v("Total Cost")]),a("td",{staticClass:"subtitle-2 font-weight-bold"},[t._v(" "+t._s(t.cost)+" INR ")])])])])],1),a("td",[a("v-btn",{attrs:{depressed:"",outlined:"",text:"",dark:"","x-small":"",color:"red accent-4"},on:{click:function(a){return a.preventDefault(),t.deleteConfirm(e.id)}}},[t._v("Cancel")])],1),a("v-dialog",{attrs:{persistent:"","max-width":"380"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-text",{staticClass:"subtitle-1 font-weight-bold black--text"},[t._v("Are you sure want to cancel this booking?")]),a("v-spacer"),a("v-flex",{staticClass:"ml-15"},[a("v-btn",{staticClass:"ml-10",attrs:{small:"",text:""},on:{click:function(e){t.dialog=!t.dialog}}},[t._v("Close")]),a("v-btn",{attrs:{small:"",text:"",color:"red"},on:{click:function(e){return e.preventDefault(),t.deleteBook(t.destid)}}},[t._v("Cancel")])],1)],1)],1)],1)})),0)]},proxy:!0}])})],1)],1)],1)},Aa=[],Da={name:"Cbookings",components:{Cpage:qt},data:function(){return{destdetails:[],destid:"",dialog:!1,optrname:"",optrphn:"",truckreg:"",truckphn:"",cost:"",dialog2:!1,start_location:"",vehicle_type:"",weight:"",end_location:"",trucks:[],resp:"",resr:"",connection:null,driver:null}},beforeMount:function(){var t=this;ht.get("api/customer/cust-dest-list/",{headers:{Authorization:"Token ".concat(this.$session.get("user_token"))}}).then((function(e){t.APIData=e.data,t.destdetails=t.APIData})).catch((function(t){console.log(t)}))},methods:{deleteBook:function(t){var e=this;ht.delete("api/customer/cust-dest-delete/"+t+"/",{headers:{Authorization:"Token ".concat(this.$session.get("user_token"))}}).then((function(t){e.APIData=t.data,window.location.reload()})).catch((function(t){console.log(t),alert("")}))},getTransaction:function(t){var e=this;ht.get("api/customer/cust-trans-detail/"+t+"/",{headers:{Authorization:"Token ".concat(this.$session.get("user_token"))}}).then((function(t){e.APIData=t.data,e.cost=t.data.data[0]["cost"],e.truckreg=t.data.data[1]["registration"],e.truckphn=t.data.data[1]["truck_num"],e.optrname=t.data.data[2]["owner_name"],e.optrphn=t.data.data[2]["owner_phone"],e.dialog2=!0})).catch((function(a){e.getDestdetails(t),console.log(a)}))},viewRoute:function(t,e){this.$session.set("sl",t),this.$session.set("el",e),this.$router.push({name:"HereMap"})},deleteConfirm:function(t){this.destid=t,this.dialog=!this.dialog},checkout:function(){var t=window.Stripe("publishable API key");fetch("/create-checkout-session",{method:"POST"}).then((function(t){return t.json()})).then((function(e){return t.redirectToCheckout({sessionId:e.id})})).then((function(t){t.error&&alert(t.error.message)})).catch((function(t){console.error("Error:",t)}))},getDestdetails:function(t){var e=this;ht.get("api/customer/cust-dest-detail/"+t+"/",{headers:{Authorization:"Token ".concat(this.$session.get("user_token"))}}).then((function(t){e.APIData=t.data,console.log(e.APIData),e.start_location=t.data.start_location,e.vehicle_type=t.data.vehicle_type,e.weight=t.data.weight,e.end_location=t.data.end_location,e.getList()})).catch((function(t){console.log(t)}))},getList:function(){var t=this;ht.post("api/customer/truckbooking/",{start_location:this.start_location,vehicle_type:this.vehicle_type,weight:this.weight,end_location:this.end_location},{headers:{Authorization:"Token ".concat(this.$session.get("user_token"))}}).then((function(e){for(var a in t.APIData=e.data,e.data.priority1)t.trucks.push(e.data.priority1[a]["truck_num"]);for(var s in e.data.priority2)t.trucks.push(e.data.priority2[s]["truck_num"]);t.connectSocket()})).catch((function(t){console.log(t)}))},connectSocket:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=0,s=t.trucks.length;case 2:if(!(a<s)){e.next=14;break}return e.next=5,t.sendMessage(a,s,t.trucks[a]);case 5:if(n=e.sent,console.log(n),1!=localStorage.getItem("response")){e.next=11;break}return e.abrupt("break",14);case 11:a++;case 12:e.next=2;break;case 14:t.clearLocal();case 15:case"end":return e.stop()}}),e)})))()},sendMessage:function(t,e,a){var s=this;return new Promise((function(n){s.connection=new WebSocket("ws://shuttle-server.herokuapp.com/ws/"+a+"/"),s.connection.onopen=function(){},setTimeout((function(){if(1==localStorage.getItem("response"))s.connection.close();else{var o=s.$session.get("user_name"),r=s.start_location,i=s.end_location,c=localStorage.getItem("cost"),l=null,d=JSON.stringify({customer:o,src:r,dest:i,fee:c,accept_reject:l});s.connection.send(d),s.connection.onmessage=function(s){var n=this,o=JSON.parse(s.data);this.resp=o["accept_reject"],1==this.resp?(console.log(" Driver",a," is accepted the request"),localStorage.setItem("response",1),localStorage.setItem("driver",a)):0==this.resp&&console.log(a," Rejected the Request"),setTimeout((function(){(null==n.resp||0==n.resp)&t==e-1&&console.log("No one accepted the request")}),1e4)}}n("Response recieved")}),1e4)}))},clearLocal:function(){var t=this;setTimeout((function(){t.driver=localStorage.getItem("driver"),localStorage.clear(),console.log(t.driver)}),1e4)}}},Sa=Da,Ia=(a("026f"),Object(c["a"])(Sa,Va,Aa,!1,null,"24a579ba",null)),Ta=Ia.exports;d()(Ia,{VApp:u["a"],VBtn:T["a"],VCard:Jt["a"],VCardText:Qt["c"],VCardTitle:Qt["d"],VDialog:Zt["a"],VFlex:H["a"],VLayout:U["a"],VSimpleTable:rt["a"],VSpacer:R["a"]});var ja=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Cpage"),a("v-layout",{staticClass:"my-5 mx-10"},[a("v-flex",{attrs:{xs2:"",sm2:"",md2:"",lg4:""}}),a("v-flex",{attrs:{xs10:"",sm4:"",md6:"",lg4:""}},[a("h1",[t._v("Track Customer Shipments")])])],1)],1)},$a=[],La={name:"Ctrack",components:{Cpage:qt}},Ea=La,Ra=Object(c["a"])(Ea,ja,$a,!1,null,null,null),Na=Ra.exports;d()(Ra,{VApp:u["a"],VFlex:H["a"],VLayout:U["a"]});var Ba=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"page"},[a("div",{attrs:{id:"map"}},[a("div",{ref:"hereMap",staticStyle:{height:"650px",width:"100%"},attrs:{id:"mapContainer"}})])])},qa=[],Fa={name:"Tracktruck",data:function(){return{platform:null,apikey:"ESXHz5D5Ael8RKcRBmnboK969OKc0S9Rbm9aAlRA-8E"}},mounted:function(){var t=this;return Object(X["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=new window.H.service.Platform({apikey:t.apikey}),t.platform=a,t.initializeHereMap();case 3:case"end":return e.stop()}}),e)})))()},methods:{initializeHereMap:function(){var t=this.$refs.hereMap,e=window.H,a=this.platform.createDefaultLayers(),s=new e.Map(t,a.vector.normal.map,{zoom:5,center:{lat:20.5937,lng:78.9629},pixelRatio:window.devicePixelRatio||1});addEventListener("resize",(function(){return s.getViewPort().resize()})),new e.mapevents.Behavior(new e.mapevents.MapEvents(s)),e.ui.UI.createDefault(s,a);var n=this.platform.getSearchService();n.geocode({q:this.$session.get("cp")},(function(t){t.items.forEach((function(t){console.log(t.position),s.addObject(new e.map.Marker(t.position))}))}),alert)}}},za=Fa,Ma=(a("3a668"),Object(c["a"])(za,Ba,qa,!1,null,"dee46066",null)),Ha=Ma.exports;d()(Ma,{VApp:u["a"]});var Ua=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"reset"},[a("v-layout",{staticClass:"my-15",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs1:"",sm2:"",md2:"",lg4:""}}),a("v-snackbar",{attrs:{"multi-line":"",color:"teal darken-4",timeout:"10000"},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{color:"black",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",s,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(this.message)+" ")]),a("v-snackbar",{attrs:{color:"red darken-4",top:"","text-color":"white",timeout:"5000"},model:{value:t.snackbar2,callback:function(e){t.snackbar2=e},expression:"snackbar2"}},[t._v(" "+t._s(this.message2)+" ")]),a("v-flex",{attrs:{xs10:"",sm8:"",md6:"",lg4:""}},[a("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(e){var s=e.invalid;return[a("form",{staticClass:"resetform",on:{submit:function(e){return e.preventDefault(),t.reset(e)}}},[a("v-flex",{attrs:{row:"",wrap:""}},[a("p",{staticClass:"mx-3 my-2 white--text font-weight-black subtitle-1"},[t._v(" Reset Password ")])]),a("v-flex",{staticClass:"my-4"}),a("v-text-field",{attrs:{label:"Phone Number",maxlength:"10","append-icon":t.icon,dark:"",outlined:"",dense:""},on:{input:t.checkPhone},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),t.otpfield?a("v-text-field",{attrs:{label:"OTP",maxlength:"6",dark:"",outlined:"",dense:""},on:{input:t.verified},model:{value:t.otp,callback:function(e){t.otp=e},expression:"otp"}}):t._e(),t.pass1?a("v-text-field",{attrs:{label:"New Password","append-icon":t.show1?"mdi-eye":"mdi-eye-off",rules:[function(t){return!!t||"Please type password."},function(t){return t&&t.length>=6||"minimum 6 characters"}],type:t.show1?"text":"password",dark:"",outlined:"",dense:""},on:{"click:append":function(e){t.show1=!t.show1}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}):t._e(),a("validation-provider",{attrs:{rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[t.pass2?a("v-text-field",{attrs:{"error-messages":s,label:"Confirm Password","append-icon":t.show2?"mdi-eye":"mdi-eye-off",rules:[!!t.password2||"type confirm password",t.password===t.password2||"The password confirmation does not match."],type:t.show2?"text":"password",dark:"",outlined:"",dense:""},on:{"click:append":function(e){t.show2=!t.show2}},model:{value:t.password2,callback:function(e){t.password2=e},expression:"password2"}}):t._e()]}}],null,!0)}),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg3:""}}),a("v-flex",{staticClass:"mx-4"},[a("v-btn",{staticClass:"my-2",attrs:{color:"primary",type:"submit",dark:"",block:"",small:"",depressed:"",disabled:s}},[t._v(" Reset ")])],1),a("v-flex",{attrs:{lg3:""}})],1)],1)]}}])})],1)],1)],1)},Ka=[];Object(Z["d"])("eager"),Object(Z["c"])("required",Object(J["a"])(Object(J["a"])({},Q["e"]),{},{message:"Required"}));var Ga={name:"ForgotPass",components:{ValidationProvider:Z["b"],ValidationObserver:Z["a"]},data:function(){return{phone:"",icon:"",otp:"",otpfield:!1,password:"",password2:"",show1:!1,show2:!1,pass1:!1,pass2:!1,snackbar:!1,message:"",snackbar2:!1,message2:""}},methods:{reset:function(){var t=this;this.$refs.observer.validate(),ht.post("/api/accounts/forgot_password/",{phone:this.phone,otp:this.otp,password_new:this.password}).then((function(e){t.APIData=e.data,t.clear(),t.$router.push({name:"Login"})})).catch((function(e){console.log(e),t.message2="Password reset has been failed.",t.snackbar2=!0}))},clear:function(){this.phone="",this.otp="",this.password="",this.password2=""},checkPhone:function(){var t=this;10==this.phone.length&&ht.get("api/accounts/check/?phone="+this.phone).then((function(e){t.APIData=e.data,0==t.APIData.data["new_phone"]?t.genOtp():(t.message2="User with Phonenumber ".concat(t.phone," does not exist"),t.icon="mdi-close-circle-outline",t.snackbar2=!0)})).catch((function(t){console.log(t)}))},genOtp:function(){var t=this;10==this.phone.length&&ht.get("api/accounts/otp_gen/?phone="+this.phone).then((function(e){t.APIData=e.data,t.otp="",t.otpfield=!0,t.message="Your OTP is ".concat(t.APIData.data["OTP"]),t.snackbar=!0})).catch((function(t){console.log(t)}))},verified:function(){6==this.otp.length&this.otp==this.APIData.data["OTP"]?(this.icon="mdi-checkbox-marked-circle-outline",this.pass1=!0,this.pass2=!0):(this.icon="mdi-close-circle-outline",this.pass1=!1,this.pass2=!1)}}},Ya=Ga,Wa=(a("9c53"),Object(c["a"])(Ya,Ua,Ka,!1,null,"7e3ac0f3",null)),Xa=Wa.exports;d()(Wa,{VApp:u["a"],VBtn:T["a"],VFlex:H["a"],VLayout:U["a"],VSnackbar:bt["a"],VTextField:it["a"]});var Ja=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Propage"),a("v-layout",{staticClass:"my-15",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs1:"",sm2:"",md2:"",lg4:""}}),a("v-snackbar",{attrs:{"multi-line":"",color:"teal darken-4",timeout:"10000"},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{color:"black",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",s,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(this.message)+" ")]),a("v-snackbar",{attrs:{color:"red darken-4",top:"","text-color":"white",timeout:"5000"},model:{value:t.snackbar2,callback:function(e){t.snackbar2=e},expression:"snackbar2"}},[t._v(" "+t._s(this.message2)+" ")]),a("v-flex",{attrs:{xs1:"",sm2:"",md2:"",lg4:""}},[a("form",{attrs:{id:"changephn"},on:{submit:function(e){return e.preventDefault(),t.changePhone(e)}}},[a("v-flex",{attrs:{row:"",wrap:""}},[a("p",{staticClass:"mx-3 my-2 black--text font-weight-black subtitle-1"},[t._v(" Change Phonenumber ")])]),a("v-flex",{staticClass:"my-4"}),a("v-text-field",{attrs:{label:"New Phone Number",maxlength:"10","append-icon":t.icon,outlined:"",rounded:"",dense:""},on:{input:t.checkPhone},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),t.otpfield?a("v-text-field",{attrs:{label:"OTP",maxlength:"6",outlined:"",rounded:"",dense:""},on:{input:t.verified},model:{value:t.otp,callback:function(e){t.otp=e},expression:"otp"}}):t._e(),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg3:""}}),a("v-flex",{staticClass:"mx-4"},[a("v-btn",{staticClass:"my-2",attrs:{color:"primary",type:"submit",dark:"",block:"",small:"",depressed:""}},[t._v(" Update ")])],1),a("v-flex",{attrs:{lg3:""}})],1)],1)])],1)],1)},Qa=[],Za=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",[a("v-app-bar",{attrs:{dense:"",color:t.color,flat:"",dark:"",app:""}},[a("v-app-bar-nav-icon",{on:{click:function(e){e.preventDefault(),t.drawer=!t.drawer}}}),a("v-app-bar-title",{staticClass:"font-weight-medium"},[t._v("SHUTTLE")])],1),a("v-navigation-drawer",{attrs:{absolute:"",bottom:"",width:"400px",fixed:"",clipped:"","hide-overlay":"",dark:"",color:t.color},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-container",[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12"}},[a("v-card",{attrs:{color:"#263238",dark:""}},[a("div",{staticClass:"d-flex flex-no-wrap justify-space-between"},[a("div",[a("v-card-title",{staticClass:"text-h6",domProps:{textContent:t._s(t.username)}}),a("v-card-subtitle",{domProps:{textContent:t._s(t.email)}}),a("v-card-subtitle",{domProps:{textContent:t._s(t.phone)}})],1),a("v-avatar",{staticClass:"ma-3",attrs:{size:"125",tile:""}},[a("v-icon",{attrs:{size:"80",dark:""}},[t._v(" mdi-account-circle ")])],1)],1)])],1)],1)],1),a("v-list",{staticClass:"my-5",attrs:{nav:"",dark:""}},[a("v-list-item-group",{attrs:{"active-class":"deep-grey--text text--accent-1"}},[a("v-list-item",{staticClass:"font-weight-black body-2",attrs:{to:"/changephone"}},[t._v(" Change Phonenumber ")]),a("v-list-item",{staticClass:"font-weight-black body-2",attrs:{to:"/changepassword"}},[t._v(" Change Password ")]),a("v-list-item",{staticClass:"font-weight-black body-2",attrs:{to:"/changename"}},[t._v(" Change Name ")]),a("v-list-item",{staticClass:"font-weight-black body-2",attrs:{to:"changeemail"}},[t._v(" Change Email ")])],1)],1)],1)],1)},ts=[],es={name:"Propage",data:function(){return{drawer:!0,color:"",username:"",email:"",phone:""}},created:function(){var t=this;ht.get("/api/accounts/is_login/",{headers:{Authorization:"Token ".concat(this.$session.get("user_token"))}}).then((function(e){t.APIData=e.data,1==t.APIData.data["user_type"]?t.color="indigo darken-4":2==t.APIData.data["user_type"]&&(t.color="teal darken-4"),t.username=t.APIData.data["username"],t.email=t.APIData.data["email"],t.phone=t.APIData.data["phone"]})).catch((function(t){console.log(t)}))}},as=es,ss=(a("fb3c"),a("62ad")),ns=a("a523"),os=a("0fd9"),rs=Object(c["a"])(as,Za,ts,!1,null,"06dc02af",null),is=rs.exports;d()(rs,{VAppBar:D["a"],VAppBarNavIcon:S["a"],VAppBarTitle:I["a"],VAvatar:Et["a"],VCard:Jt["a"],VCardSubtitle:Qt["b"],VCardTitle:Qt["d"],VCol:ss["a"],VContainer:ns["a"],VIcon:ot["a"],VList:j["a"],VListItem:$["a"],VListItemGroup:Rt["a"],VNavigationDrawer:Nt["a"],VRow:os["a"]});var cs={name:"Changephone",components:{Propage:is},data:function(){return{oldphone:"",phone:"",icon:"",otpfield:!1,otp:"",snackbar:!1,message:"",snackbar2:!1,message2:""}},created:function(){var t=this;ht.get("/api/accounts/is_login/",{headers:{Authorization:"Token ".concat(this.$session.get("user_token"))}}).then((function(e){t.APIData=e.data,t.oldphone=t.APIData.data["phone"]})).catch((function(t){console.log(t)}))},methods:{checkPhone:function(){var t=this;10==this.phone.length&&ht.get("api/accounts/check/?phone="+this.phone).then((function(e){t.APIData=e.data,0==t.APIData.data["new_phone"]?(t.message2="Phonenumber ".concat(t.phone," is already exist"),t.icon="mdi-close-circle-outline",t.snackbar2=!0):t.genOtp()})).catch((function(t){console.log(t)}))},genOtp:function(){var t=this;10==this.phone.length&&ht.get("api/accounts/otp_gen/?phone="+this.oldphone).then((function(e){t.APIData=e.data,t.otp="",t.otpfield=!0,t.message="Your OTP is ".concat(t.APIData.data["OTP"]),t.snackbar=!0})).catch((function(t){console.log(t)}))},verified:function(){6==this.otp.length&this.otp==this.APIData.data["OTP"]?this.icon="mdi-checkbox-marked-circle-outline":this.icon="mdi-close-circle-outline"},clear:function(){this.phone="",this.otp=""},changePhone:function(){var t=this;ht.post("/api/accounts/update_phone/",{phone:this.phone,otp:this.otp},{headers:{Authorization:"Token ".concat(this.$session.get("user_token"))}}).then((function(e){t.APIData=e.data,400==t.APIData.Http_response?(t.message2=t.APIData.message,t.snackbar2=!0):200==t.APIData.Http_response&&(t.message=t.APIData.message,t.snackbar=!0,t.clear(),window.location.reload())})).catch((function(t){console.log(t)}))}}},ls=cs,ds=(a("51ea"),Object(c["a"])(ls,Ja,Qa,!1,null,"16c7b14d",null)),us=ds.exports;d()(ds,{VApp:u["a"],VBtn:T["a"],VFlex:H["a"],VLayout:U["a"],VSnackbar:bt["a"],VTextField:it["a"]});var ps=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Propage"),a("v-layout",{staticClass:"my-15",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs1:"",sm2:"",md2:"",lg4:""}}),a("v-snackbar",{attrs:{"multi-line":"",color:"teal darken-4",timeout:"10000"},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{color:"black",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",s,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(this.message)+" ")]),a("v-snackbar",{attrs:{color:"red darken-4",top:"","text-color":"white",timeout:"5000"},model:{value:t.snackbar2,callback:function(e){t.snackbar2=e},expression:"snackbar2"}},[t._v(" "+t._s(this.message2)+" ")]),a("v-flex",{attrs:{xs1:"",sm2:"",md2:"",lg4:""}},[a("form",{attrs:{id:"changeemail"},on:{submit:function(e){return e.preventDefault(),t.changeEmail(e)}}},[a("v-flex",{attrs:{row:"",wrap:""}},[a("p",{staticClass:"mx-3 my-2 black--text font-weight-black subtitle-1"},[t._v(" Change Email ")])]),a("v-flex",{staticClass:"my-4"}),a("v-text-field",{attrs:{label:"New Email Id","append-icon":t.icon,outlined:"",rounded:"",dense:""},on:{input:t.checkEmail},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t.otpfield?a("v-text-field",{attrs:{label:"OTP",maxlength:"6",outlined:"",rounded:"",dense:""},on:{input:t.verified},model:{value:t.otp,callback:function(e){t.otp=e},expression:"otp"}}):t._e(),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg3:""}}),a("v-flex",{staticClass:"mx-4"},[a("v-btn",{staticClass:"my-2",attrs:{color:"primary",type:"submit",dark:"",block:"",small:"",depressed:""}},[t._v(" Update ")])],1),a("v-flex",{attrs:{lg3:""}})],1)],1)])],1)],1)},ms=[],hs={name:"Changeemail",components:{Propage:is},data:function(){return{email:"",currentphone:"",otpfield:!1,otp:"",icon:"",snackbar:!1,message:"",snackbar2:!1,message2:""}},created:function(){var t=this;ht.get("/api/accounts/is_login/",{headers:{Authorization:"Token ".concat(this.$session.get("user_token"))}}).then((function(e){t.APIData=e.data,t.currentphone=t.APIData.data["phone"]})).catch((function(t){console.log(t)}))},methods:{checkEmail:function(){var t=this;".com"==this.email.slice(this.email.length-4)&&ht.get("api/accounts/check/?email="+this.email).then((function(e){t.APIData=e.data,0==t.APIData.data["new_email"]?(t.message2="Email Id ".concat(t.email," is already exist"),t.icon2="mdi-close-circle-outline",t.snackbar2=!0):t.genOtp()})).catch((function(t){console.log(t)}))},genOtp:function(){var t=this;".com"==this.email.slice(this.email.length-4)&&ht.get("api/accounts/otp_gen/?phone="+this.currentphone).then((function(e){t.APIData=e.data,t.otp="",t.otpfield=!0,t.message="Your OTP is ".concat(t.APIData.data["OTP"]),t.snackbar=!0})).catch((function(t){console.log(t)}))},verified:function(){6==this.otp.length&this.otp==this.APIData.data["OTP"]?this.icon="mdi-checkbox-marked-circle-outline":this.icon="mdi-close-circle-outline"},clear:function(){this.email="",this.otp=""},changeEmail:function(){var t=this;ht.post("/api/accounts/update_email/",{email:this.email,otp:this.otp},{headers:{Authorization:"Token ".concat(this.$session.get("user_token"))}}).then((function(e){t.APIData=e.data,400==t.APIData.Http_response?(t.message2=t.APIData.message,t.snackbar2=!0):200==t.APIData.Http_response&&(t.message=t.APIData.message,t.snackbar=!0,t.clear(),window.location.reload())})).catch((function(t){console.log(t)}))}}},fs=hs,vs=(a("8913"),Object(c["a"])(fs,ps,ms,!1,null,"23360292",null)),bs=vs.exports;d()(vs,{VApp:u["a"],VBtn:T["a"],VFlex:H["a"],VLayout:U["a"],VSnackbar:bt["a"],VTextField:it["a"]});var gs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Propage"),a("v-layout",{staticClass:"my-15",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs1:"",sm2:"",md2:"",lg4:""}}),a("v-snackbar",{attrs:{"multi-line":"",color:"teal darken-4",timeout:"5000"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(this.message)+" ")]),a("v-snackbar",{attrs:{color:"red darken-4",top:"","text-color":"white",timeout:"5000"},model:{value:t.snackbar2,callback:function(e){t.snackbar2=e},expression:"snackbar2"}},[t._v(" "+t._s(this.message2)+" ")]),a("v-flex",{attrs:{xs1:"",sm2:"",md2:"",lg4:""}},[a("form",{attrs:{id:"changename"},on:{submit:function(e){return e.preventDefault(),t.changeName(e)}}},[a("v-flex",{attrs:{row:"",wrap:""}},[a("p",{staticClass:"mx-3 my-2 black--text font-weight-black subtitle-1"},[t._v(" Change Name ")])]),a("v-flex",{staticClass:"my-4"}),a("v-text-field",{attrs:{label:"New Name",outlined:"",rounded:"",dense:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg3:""}}),a("v-flex",{staticClass:"mx-4"},[a("v-btn",{staticClass:"my-2",attrs:{color:"primary",type:"submit",dark:"",block:"",small:"",depressed:""}},[t._v(" Update ")])],1),a("v-flex",{attrs:{lg3:""}})],1)],1)])],1)],1)},ks=[],ws={name:"Changename",components:{Propage:is},data:function(){return{name:"",snackbar:!1,message:"",snackbar2:!1,message2:""}},methods:{changeName:function(){var t=this;ht.post("/api/accounts/update_name/",{name:this.name},{headers:{Authorization:"Token ".concat(this.$session.get("user_token"))}}).then((function(e){t.APIData=e.data,400==t.APIData.Http_response?(t.message2=t.APIData.message,t.snackbar2=!0):200==t.APIData.Http_response&&(t.message=t.APIData.message,t.snackbar=!0,t.name="",window.location.reload())})).catch((function(t){console.log(t)}))}}},xs=ws,_s=(a("89f4"),Object(c["a"])(xs,gs,ks,!1,null,"8131702c",null)),ys=_s.exports;d()(_s,{VApp:u["a"],VBtn:T["a"],VFlex:H["a"],VLayout:U["a"],VSnackbar:bt["a"],VTextField:it["a"]});var Cs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Propage"),a("v-layout",{staticClass:"my-15",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs1:"",sm2:"",md2:"",lg4:""}}),a("v-snackbar",{attrs:{"multi-line":"",color:"teal darken-4",timeout:"5000"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(this.message)+" ")]),a("v-snackbar",{attrs:{color:"red darken-4",top:"","text-color":"white",timeout:"5000"},model:{value:t.snackbar2,callback:function(e){t.snackbar2=e},expression:"snackbar2"}},[t._v(" "+t._s(this.message2)+" ")]),a("v-flex",{attrs:{xs1:"",sm2:"",md2:"",lg4:""}},[a("form",{attrs:{id:"changepass"},on:{submit:function(e){return e.preventDefault(),t.ChangePassword(e)}}},[a("v-flex",{attrs:{row:"",wrap:""}},[a("p",{staticClass:"mx-3 my-2 black--text font-weight-black subtitle-1"},[t._v(" Change Password ")])]),a("v-flex",{staticClass:"my-4"}),a("v-text-field",{attrs:{label:"Current Password",name:"password","append-icon":t.show?"mdi-eye":"mdi-eye-off",type:t.show?"text":"password",outlined:"",rounded:"",dense:""},on:{"click:append":function(e){t.show=!t.show}},model:{value:t.oldpassword,callback:function(e){t.oldpassword=e},expression:"oldpassword"}}),a("v-text-field",{attrs:{label:"New Password",name:"password","append-icon":t.show1?"mdi-eye":"mdi-eye-off",rules:t.passwordRules,type:t.show1?"text":"password",outlined:"",rounded:"",dense:""},on:{"click:append":function(e){t.show1=!t.show1}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-text-field",{attrs:{label:"Confirm New Password",name:"confirmPassword","append-icon":t.show2?"mdi-eye":"mdi-eye-off",rules:[!!t.password2||"type confirm password",t.password===t.password2||"The password confirmation does not match."],type:t.show2?"text":"password",outlined:"",rounded:"",dense:""},on:{"click:append":function(e){t.show2=!t.show2}},model:{value:t.password2,callback:function(e){t.password2=e},expression:"password2"}}),a("v-layout",{staticClass:"my-2",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg2:""}}),a("v-flex",{staticClass:"mx-10"},[a("v-btn",{attrs:{color:"primary",type:"submit",dark:"",block:"",small:"",depressed:""}},[t._v(" Update ")])],1),a("v-flex",{attrs:{lg2:""}})],1)],1)])],1)],1)},Ps=[],Os={name:"Changepassword",components:{Propage:is},data:function(){return{oldpassword:"",password:"",password2:"",show:!1,show1:!1,show2:!1,snackbar:!1,message:"",snackbar2:!1,message2:"",passwordRules:[function(t){return t&&t.length>=6||"minimum 6 characters"}]}},methods:{clear:function(){this.oldpassword="",this.password="",this.password2=""},ChangePassword:function(){var t=this;ht.post("/api/accounts/update_password/",{password:this.oldpassword,password_new:this.password},{headers:{Authorization:"Token ".concat(this.$session.get("user_token"))}}).then((function(e){t.APIData=e.data,401==t.APIData.Http_response?(t.message2=t.APIData.message,t.snackbar2=!0):200==t.APIData.Http_response&&(t.message=t.APIData.message,t.snackbar=!0,t.clear())})).catch((function(t){console.log(t)}))}}},Vs=Os,As=(a("32f4"),Object(c["a"])(Vs,Cs,Ps,!1,null,"5d6d5220",null)),Ds=As.exports;d()(As,{VApp:u["a"],VBtn:T["a"],VFlex:H["a"],VLayout:U["a"],VSnackbar:bt["a"],VTextField:it["a"]}),s["a"].use(f["a"]);var Ss=[{path:"/",name:"Home",component:G},{path:"/about",name:"About"},{path:"/booktruck",name:"Booking",component:lt},{path:"/login",name:"Login",component:kt},{path:"/custsignup",name:"Csignup",component:Pt},{path:"/optrsignup",name:"Osignup",component:It},{path:"/custpage",name:"Cpage",component:qt},{path:"/optrpage",name:"Opage",component:Kt},{path:"/managetrucks",name:"Tmanage",component:ae},{path:"/truckstatus",name:"Tstatus",component:ce},{path:"/driverpage",name:"Dpage",component:he},{path:"/registertruck",name:"Treg",component:we},{path:"/truckadd",name:"Tadd",component:Ae},{path:"/driveradd",name:"Dreg",component:$e},{path:"/panadd",name:"Padd",component:qe},{path:"/truckdetails",name:"Tdetails",component:Ge},{path:"/editdrivers",name:"Editdrivers",component:Ze},{path:"/viewstats",name:"Tstats",component:oa},{path:"/HereMap",name:"HereMap",component:pa},{path:"/booknewtruck",name:"Bnewtruck",component:wa},{path:"/newcustsignup",name:"Newcust",component:Oa},{path:"/bookings",name:"Cbookings",component:Ta},{path:"/custrack",name:"Ctrack",component:Na},{path:"/tracktruck",name:"Tracktruck",component:Ha},{path:"/forgotpassword",name:"ForgotPass",component:Xa},{path:"/profilepage",name:"Propage",component:is},{path:"/changephone",name:"Changephone",component:us},{path:"/changeemail",name:"Changeemail",component:bs},{path:"/changename",name:"Changename",component:ys},{path:"/changepassword",name:"Changepassword",component:Ds}],Is=new f["a"]({mode:"history",base:"/",routes:Ss}),Ts=Is,js=a("f309");s["a"].use(js["a"]);var $s=new js["a"]({}),Ls=a("5886"),Es=(a("4413"),a("0628")),Rs=a.n(Es);s["a"].use(Rs.a),s["a"].use(Ls["default"]),s["a"].config.productionTip=!1,new s["a"]({router:Ts,vuetify:$s,render:function(t){return t(h)}}).$mount("#app")},"5dfc":function(t,e,a){"use strict";a("1a12")},6151:function(t,e,a){"use strict";a("22e6")},"62d3":function(t,e,a){},"63da":function(t,e,a){"use strict";a("c6ea")},"79cc":function(t,e,a){"use strict";a("1c95")},8412:function(t,e,a){"use strict";a("e393")},8913:function(t,e,a){"use strict";a("52ea")},"89f4":function(t,e,a){"use strict";a("d4d3")},"9c53":function(t,e,a){"use strict";a("221c")},a1cb:function(t,e,a){},a8de:function(t,e,a){},aafc:function(t,e,a){},abd5:function(t,e,a){"use strict";a("b8b2")},b093:function(t,e,a){"use strict";a("0778")},b8b2:function(t,e,a){},c168:function(t,e,a){"use strict";a("3e7d")},c6ea:function(t,e,a){},c839:function(t,e,a){},ca3c:function(t,e,a){},cd86:function(t,e,a){},d4b0:function(t,e,a){"use strict";a("271d")},d4d3:function(t,e,a){},d522:function(t,e,a){},d5de:function(t,e,a){"use strict";a("a8de")},ddd9:function(t,e,a){"use strict";a("d522")},df2f:function(t,e,a){"use strict";a("497e")},e393:function(t,e,a){},f0b1:function(t,e,a){"use strict";a("aafc")},f16d:function(t,e,a){"use strict";a("21ad")},f3a2:function(t,e,a){"use strict";a("5631")},f54d:function(t,e,a){},fb3c:function(t,e,a){"use strict";a("62d3")}});
//# sourceMappingURL=app.e50a2a6a.js.map